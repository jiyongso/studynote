II. Integration
===



## 1. The Integral Over a Rectangle



#### Introduction

$n$-dim rectangle $Q_n$ 은 다음과 같이 정의된다.
$$
Q_n = [a_1,\,b_1]\times \cdots \times [a_n,\,b_n]\;.
$$
각각의 closed interval $[a_i,\,b_i]$ 는 **component interval** of $Q_n$ 라고 하며 $\max\{|b_i-a_i|: i=1,\ldots,\,n\}$ 을 **width** of $Q_n$ 이라 한다.

$Q_n$의 부피 $v(Q_n)$ 은 $v(Q_n)= \prod\limits_{i=1}^n (b_i-a_i)$ 로 정의된다. $n=1$일 경우 width of $Q_1$을 **length** of $Q_1$ 이라 한다.



#### Definition : Partition, subinterval, mesh

$[a,\,b] \subset \mathbb{R}$ 에 대해 **partition** of $[a,\,b]$ 는 $a,\,b$ 와 $(a,\,b)$ 안의 points 들을 포함하는 finite collection 이며 이러한 모든 $[a,\,b]$ 에서의 partition의 집합을 $\mathbb{P}([a,\,b])$  라 쓴다. $P\in \mathbb{P}([a,\,b])$ 때 $\min(P) = a$, $\max(P)=b$ 이며 $P$의 원소들을 순서대로 다음과 같이 표현하는 것이 일반적이다. 
$$
a=t_0 < t_1< \cdots < t_{n-1} < t_n = b\;.
$$
이 때 각각의 $[t_i,\,t_{i+1}]$ 을 **subinterval** of partition $P$ 라 한다. 

$Q$가 $n$-dim. rectangle 이며 $Q=[a_1,\,b_1]\times \cdots \times [a_n,\,b_n]$ 일 때 $\mathbb{P}(Q)$ 는 다음과 같이 정의된다.
$$
\mathbb{P}(Q) = \{(P_1,\ldots,\,P_n) : P_i \in \mathbb{P}([a_i,\,b_i]) \text{ for } i=1,\ldots,\,n\}\;.
$$
이 때 각각의 $(P_1,\ldots,\,P_n)$ 이 $Q$ 에서의 partition 이며 **mesh** of $(P_1,\ldots,\,P_n)$ 은 각각의 width of $P_i$ 의 최대값을 의미한다.



#### Convention 

$P \in \mathbb{P}(Q)$ 일 때 $x\in P$는 정확히 말하자면 points in $\mathbb{R}^n$ 이다. 그러나 앞으로 $R \in P$ 라 쓸 때는 $R$은 partition $p$에 의해 결정되는 rectangle in $\mathbb{R}^n$ 을 의미하는 것으로 하자. 즉 어떤 $a^k_m,\,a^k_{m+1}\in P_p$ for $k=1,\ldots,\,n$ 에 대해 $R=[a^1_{m_1},\,a^1_{m_1+1}]\times\cdots \times[a^n_{m_n},\,a^n_{m_n+1}]$ 일 때 $R\in P$라 하자. 이 때의 $R$을 $P$의 **subrectangle** 이라 한다. 

 

#### Definition  : Lower sum and Upper sum

$Q$ 가 rectangle in $\mathbb{R}^n$ 이며 $f:Q \to \mathbb{R}$ 이고 $f$가 bounded 라 하자. $P \in \mathbb{P}(Q)$ 이고 $R \in P$ 일  때 $m_R(f)$와 $M_R (f)$를 다음과 같이 정의한다.
$$
\begin{align*}
m_R (f) &= \inf \{ f(\mathbf{x}) : \mathbf{x} \in R\} \\
M_R (f) & = \sup \{ f(\mathbf{x}) : \mathbf{x} \in R\}\;.
\end{align*}
$$
그리고 **lower sum** of $f$ in $P$, $L(f,\,P)$ 와 **upper sum** of $f$ in $P$, $U(f,\,P)$ 는 다음과 같이 정의된다.
$$
\begin{align*}
L(f,\,P) &= \sum_{R \in P}m_R(f) \cdot v(R)\;,\\
U(f,\,P) &= \sum_{R \in P}M_R (f) \cdot v(R)\;.
\end{align*}
$$


#### Lemma 1.1

$Q$가 rectangle in $\mathbb{R}^b$ 이며 $f:Q\to \mathbb{R}$ 이 bounded 이면 임의의 $P\in \mathbb{P}(Q)$ 에 대해 $L(f,\,P)$ 와 $U(f,\,P)$ 는  bounded 이다.

---

*(Proof)* $f$가 bounded 이므로 $|f|\le M$ 인 $M\in \mathbb{R}$ 이 존재한다. 따라서 
$$
-M\cdot v(Q) \le L(f,\,P),\, U(f,\, P) \le M\cdot v(Q)
$$
이므로 $L(f,\,P)$, $U(f,\,P)$ 는 bounded 이다. $\quad\square$ 



#### Definition : Refinement of Partition

$P,\,P'\in \mathbb{P}(Q)$, $P = (P_1,\ldots,\,P_n)$, $P' = (P'_1,\ldots,\,P'_n)$ 일 때 $P_i \subset P'_i$ for all $i=1,\ldots,\, n$ 이면 $P'$을 $P$의 **refinement** 라 하며 $P'' = (P_1 \cup P'_1,\ldots,\,P_n \cup P'_n)$ 을 **common refinement** of $P$ and $P'$ 이라 한다.



#### Lemma 1.2

$P \in \mathbb{P}(Q)$ for some $n$-dim. rectangle $Q$ 이고 $f:Q \to \mathbb{R}$ 이 bounded 라 하자. $P'$이 $P$의 refinement 이면 다음이 성립한다.
$$
L(f,\,P') \ge L(f,\,P)\;,\\
U(f,\,P') \le U(f,\, P)\;.
$$

---

*Proof is trivial*



#### Lemma 1.3

$P,\,P'\in \mathbb{P}(Q)$ for some $n$-dim rectangle $Q$ 이고 $f:Q\to \mathbb{R}$ 이 bounded 일 때 다음이 성립한다.
$$
L(f,\,P) \le U(f,\,P')\;.
$$

---

*Proof is trivial*



#### Definition : Lower Integral and Upper Integral

$Q$가 $n$-dim rectangle 이고 $f:Q \to \mathbb{R}$ 이 bounded 일 때 **lower integral** of $f$ in $Q$, $\displaystyle \underline{\int_Q}f$  과 **upper integral** of $f$ in $Q$,  $\displaystyle \overline{\int_Q}f$ 는 다음과 같이 정의된다.
$$
\begin{align*}
\underline{\int_Q} f &= \sup \{L(f,\,P): P \in \mathbb{P}(Q) \}\, , \\
\overline{\int_Q} f & = \inf \{U(f,\,P): P \in \mathbb{P}(Q) \}\;.
\end{align*}
$$



#### Theorem 1.4 (Riemann Condition)

$Q$가 $n$-dim rectangle in $\mathbb{R}^n$ 이며 $f:Q \to \mathbb{R}$ 이 bounded 일 때  $\displaystyle \underline{\int_Q}f \le \overline{\int_Q}f $ 이며 다음이 성립한다.
$$
\underline{\int_Q} f=\overline{\int_Q}f \iff \forall\varepsilon > 0, \exists P\in \mathbb{P}(Q), U(f,\,P)-L(f,\,P)<\varepsilon\;.
$$

---

*(Proof)* (1) 임의의 $P\in \mathbb{P}(Q)$ 에 대해 $\displaystyle \underline{\int_Q}f \le U(f,\,P)$ 이므로 $\displaystyle \underline{\int_Q}f \le \overline{\int_Q}f$ 이다. 

(2) $\displaystyle \underline{\int_Q}f = \overline{\int_Q}f$ 라  가정하고 임의의 $\varepsilon >0$을 선택한다.  $\underline{\displaystyle \int_Q} f-L(f,\,P_1)< \dfrac{\varepsilon}{2}$ 인 $P_1 \in \mathbb{P}(Q)$ 와 $U(f,\,P_2) - \overline{\displaystyle \int_Q}f < \dfrac{\varepsilon}{2}$ 인 $P_2\in \mathbb{P}(Q)$  가 lower integral과 upper integral의 정의에 의해 항상 존재한다. $P$를 common refinement of $P_1$ and $P_2$라 하면,
$$
\underline{\int_Q}f - L(f,\,P) \le  \underline{\int_Q}f-L(f,\,P_1) < \dfrac{\varepsilon}{2} \\
U(f,\,P_2) -\overline{\int_Q}f \le U(f,\,P)-\overline{\int_Q}f \le \dfrac{\varepsilon}{2}
$$
이다. 따라서 $U(f,\,P)-L(f,\,P)< \varepsilon$. 

(3) $\forall\varepsilon > 0, \exists P\in \mathbb{P}(Q), U(f,\,P)-L(f,\,P)<\varepsilon$ 임을 가정하자. 그렇다면 다음이 성립한다. 
$$
\overline{\int_Q}f-\underline{\int_Q}f \le U(f,\,P) - L(f,\,P)<\varepsilon
$$
따라서 $\displaystyle \overline{\int_Q}f=\underline{\int_Q}f$ 이다. $\quad\square$



#### Definition : Riemann Integrable. 

$n$-dim rectangle $Q$ in $\mathbb{R}^n$ 에 대해 $\displaystyle \underline{\int_Q}f= \overline{\int_Q}f$ 일 때 $f$를 **Riemann integrable** 혹은 **integrable** 이라 하며 이 값을 $\displaystyle \int_Q f$ 라 하고 **Riemann integral** of $f$ over $Q$ 라 한다. 



#### Lemma 1.5

$f$가 $n$-dim rectangle $Q$ 에서 상수 함수이면, 즉 $f(\mathbf{x})= c$ for all $\mathbf{x}\in Q$ 이면 $\displaystyle \int_Q f = c\cdot v(Q)$ 이다. 

---

*Proof is trivial*



#### Lemma 1.6

$Q$가 $n$-dim. rectangle in $\mathbb{R}^n$ 이고 $\{Q_1,\ldots,\,Q_k \}$ 에서 각각의 $Q_i$가 $n$-dim rectangle 이며 $Q \subset \bigcup\limits_{i=1}^k  Q_k$ 이면 $v(Q) \le \sum\limits_{i=1}^k v(Q_i)$ 이다. 

---

*Proof is trivial*



#### Exercise (pp. 90)

<b>3. </b> $[0,\,1]^2=[0,\,1]\times [0,\,1]$ 이라 하자. $f:[0,\,1]^2 \to \mathbb{R}$ 이 다음과 같이 정의되었을 때 $f$가 $[0,\,1]^2$ 에서 integrable 함을 보이시오.
$$
f(x,\,y) = \left\{\begin{array}{ll}0 \qquad & \text{if } x \ne y\;,\\ 1 & \text{if } x = y\;.\end{array}\right.\;
$$

---

(1) For given $n$, let the partition $P_n$ of $[0,\,1]$ be $P_n = (0,\, 1/n,\,2/n ,\ldots,\, n/n=1)$ and $P=(P_n,\,P_n)$ be a partition of $[0,\,1]^2$. 

(2) $L(f,\,P)=0$ obviously and $U(f,\,P)\le 3n\times (1/n^2)= 3/n$. For given $\varepsilon >0$, if we set $n > 3/\varepsilon$, then, $U(f,\,P)-L(f,\,P)<\varepsilon$. Riemann condition에 의해 $f$는 integrable.



<b>4. </b> $f,\,g:[0,\,1]\to \mathbb{R}$ 가 increasing, non-negative 일 때 $h : [0,\,1]^2 \to \mathbb{R}$ defined as $h(x,\,y) =f(x)g(y)$는 integrable over $[0,\,1]^2$ 임을 보이시오.

---

(1) 문제의 조건에 의해 $f,\,g$는 bounded. 따라서 $h(x,\,y)$ 도 non-negative and bounded function.

(2) Let $P$ be any partition of $[0,\,1]^2$ . $p$가 subinterval of $P$ 이면 $p=[a_i,\,a_{i+1}]\times [b_j,\,b_{j+1}]$  꼴이며 $0 \le a_i \le a_{i+1}\le 1$ , $0 \le b_j \le b_{j+1}\le 1$ 이다. $f,\,g$가 increasing 이므로 $m_p (h) = f(a_i)g(b_i)$, $M_p(h) = f(a_{i+1})g(b_{i+1})$ 이다. 

(3) Partition $P$ over $[0,\,1]^2$ 를 exercise 3. 과 같이 잡고 $M=f(1)g(1)$ 이라 하면, 
$$
\begin{align*}
U(h,\,P)- L(h,\,P)&= \sum_{j=1}^n\sum_{k=1}^n \dfrac{1}{n^2}\left[f\left(\dfrac{j}{n}\right)g\left(\dfrac{k}{n}\right)- f\left(\dfrac{j-1}{n}\right)g\left(\dfrac{k-1}{n}\right)\right]\\
&= \dfrac{1}{n^2}\sum_{j=1}^n\left[ f\left(\dfrac{j}{n}\right)g(1) + f(1) g\left(\dfrac{j}{n}\right)  \right]-\dfrac{1}{n^2}f(1)g(1) \\
& \qquad  - \dfrac{1}{n^2}\sum_{j=1}^n\left[ f\left(\dfrac{j-1}{n}\right)g(0) + f(0) g\left(\dfrac{j-1}{n}\right)  \right]-\dfrac{1}{n^2}f(0)g(0) \\
&\le \dfrac{1}{n^2}\left[ (2n-1) f(1)g(1) -(2n-1)f(0)g(0)\right] \\
&= \dfrac{2n-1}{n^2}(f(1)g(1)- f(0)g(0)) \\
& \le \dfrac{(2n-1)}{n^2} M \le \dfrac{2}{n}M\;.
\end{align*}
$$
 (4) 임의의 $\varepsilon >0$ 에 대해 $n>2M/\varepsilon$ 으로 잡으면 $U(h,\,P)-L(h,\,P) <\varepsilon$ 이므로 Riemann condition 성립. 따라서 $h$는 $[0,\,1]^2$에서 integrable 하다.



<b>5. </b> $f:\mathbb{R} \to \mathbb{R}$ 이 다음과 같이 정의되었을 때 $f$가 integrable over $[0,\,1] $ 임을 보이시오.
$$
f(x) = \left\{\begin{array}{ll}1/q\quad\quad & \text{if } x=p/q \text{ for }p,\,q \in \mathbb{Z}_{+} \text{ and } \gcd(p,\,q)=1\;,\\ 0 & \text{otherwise.}  \end{array}\right. 
$$

---

(1) Let $N$ be any large prime number and consider partition $P_N = (0,\,1/N,\, N/N=1)$. Let $M_0 =\sup \{f(x): 0\le x \le 1/N \}$, $M_N=\{x\in [1/N,\,1]: f(x) > 0 \}$ 이라 하자. $M=\sum\limits_{k=1}^N \phi (k)$ where $\phi$ is an Euler $\phi$ function 이므로 $M$은 finite 하며 당연히 $M>N$ 이다. 또한 $M_0=1/N$ 이다. 

(3) $[1/N,\,1]$ 을 다음과 같이 partition 한다. $x\in M_N$ 이면 $x$를 중심으로 $1/M^2 $만큼 폭을 갖도록 우선 잡고, 나머지 구간을 채워 넣는다. 이것과 subinterval $[0,\,1/N]$을 결합한 $P$는 partition of $[0,\,1]$ 이다. 그렇다면, 
$$
U(f,\,P) \le \dfrac{1}{N}M_0 + \dfrac{1}{M^2}M \le \dfrac{1}{N^2} +\dfrac{1}N \le \dfrac{2}{N}\;.
$$
(4) Irrational number는 dense in $\mathbb{R}$ 이므로 $L(f,\,P)=0$ 이다. Given $\varepsilon >0$ 에 대해 $N>2/\varepsilon$ 이면 Riemann condition을 만족하므로 $f$는 integrable 하다.



<b>6. </b> 다음을 증명하고자 한다.

$f:Q \subset \mathbb{R}^n \to \mathbb{R}$ 이 bounded 일 때 다음 statements가 equivalent 함을 (a), (b), (c) 과정을 통해 보이고자 한다.

a. $f$  is integrable over $Q$

b. $\forall \varepsilon>0, \exists\delta >0$ s.t.  $U(f,\,P)-L(f,\,P)<\varepsilon$  for every partition $P$  of which mesh is less then $\delta $. 

(a) b$\implies$a 를 증명하시오

(b) $|f(\mathbf{x})|<M$ for all $\mathbf{x}\in Q$ 라 하자. $P$가 partition of $Q$ 이고 $P''$은 $P$의 subinterval 중 하나를 선택하고 그 subinterval의 component에 한 point를 추가한 partition of $Q$이다. 이 때 다음이 성립함을 보이시오.
$$
0 \le L(f,\,P'')- L(f,\,P) \le 2M \operatorname{mesh}(P)(\operatorname{width}Q)^{n-1} \;.\\
0 \le U(f,\,P)- U(f,\,P'') \le 2M \operatorname{mesh}(P)(\operatorname{width}Q)^{n-1} \;.
$$
(c) 이제 a $\implies$ b를 증명한다. $f$가 integrable over $Q$ 라 가정하고 given $\varepsilon>0$ 에 대해 partition $P'$을 $U(f,\,P')-L(f,\,P')<\varepsilon/2$ 가 되도록 선택한다. $N$을 $P'$의 partition points의 갯수라 하고 $\delta$를 
$$
\delta =\dfrac{\varepsilon}{8}MN(\operatorname{width}(Q))^{n-1}
$$
라 하자. 만약 $\operatorname{mesh}(P)<\delta$ 이면 $U(f,\,P)-L(f,\,P)<\varepsilon$ 임을 보이시오.

---

(a) 주어진 $\varepsilon >0$에 대해 어떤 partition 이 존재하여 $U(f,\,P)-L(f,\,P)<\varepsilon$ 이 되므로 $f$가 integrable over $Q$가 된다.

(b) $P''$은 refinement of $P$ 이므로 $0 \le L(f,\,P'')-L(f,\,P)$, $0 \le U(f,\,P)-U(f,\,P'')$  임은 자명하다. 선택된 subinterval $R$의 한 component를 선택하여 한 point를 삽입하여 $R_1$과 $R_2$로 분리했음을 가정하자. 

$R$의 선택된 component의 width 는 $\operatorname{mesh}(P)$ 보다 작고, 다른 component는 $\operatorname{width}(Q)$ 보다 작다. 따라서  $v(R)\le \operatorname{mesh}(P)(\operatorname{width}Q)^{n-1}$ 이다. 또한 $v(R_1)+v(R_2)=v(R) \le 2v(R)$ 임은 자명하다. 이 결과와 $|f(\mathbf{x})|<M$ 을 이용하면, 
$$
\begin{align*}
L(f,\,P'')-L(f,\,P)&=|m_{R_1}(f)\cdot v(R_1)+m_{R_2}(f)\cdot v(R_2)-m_R \cdot v(R)|\\\\
& \le |m_{R_1}(f)\cdot v(R_1)| + |m_{R_2}(f)\cdot v(R_2)|+|m_R(f) \cdot v(R)|\\\\
&= |m_{R_1}(f)|\cdot v(R_1) + |m_{R_2}(f)|\cdot v(R_2) + |m_R(f)|\cdot v(R)| \\\\
&\le M(v(R_1)+v(R_2))+Mv(R)=2Mv(R)
\\\\
& \le 2M\operatorname{mesh}(P)(\operatorname{width}Q)^{n-1}\;.
\end{align*}
$$

$$
\begin{align*}
U(f,\,P)-U(f,\,P'') &= |M_{R}(f)\cdot v(R)-M_{R_1}(f)\cdot v(R_1)-M_{R_2}\cdot v(R_2)|\\\\
&\le |M_R(f)| \cdot v(R)+|M_{R_1}(f)|\cdot v(R_1)+|M_{R_2}(f)|\cdot v(R_2)\\\\
& \le 2M \cdot v(R) \le 2M\operatorname{mesh}(P)(\operatorname{width}Q)^{n-1}\;.
\end{align*}
$$



(c) $f$가 integrable over $Q$ 라가정하자. 따라서 $U(f,\,P')-L(f,\,P')<\varepsilon/2$를 만족하는 $P'\in \mathbb{P}(Q)$ 가 존재한다. 

$P$는 그 mesh가 $\delta = \dfrac{\varepsilon}{8MN(\operatorname{width}(Q))^{n-1}}$보다 작은 임의의 partition of $Q$라 하고 $P''$을 common refinement of $P$ and $P'$ 이라 하자. 그렇다면 $\operatorname{mesh}(P'')<\delta$ 이다. 그리고 partition points of $P$'' < partition points of $P$+$N$ 이다. 따라서, 
$$
\begin{align*}
0\le L(f,\,P'') - L(f,\,P') &\le N\cdot 2M\delta (\operatorname{width} Q)^{n-1}<\varepsilon/4\;,\\\\
0\le U(f,\,P')-U(f,\,P'') &\le N \cdot 2M\delta (\operatorname{width} Q)^{n-1}< \varepsilon/4\;.
\end{align*}
$$
이며, $U(f,\,P')-L(f,\,P')-\varepsilon/4 \le U(f,\,P'')-L(f,\,P'') \le U(f,\,P') - L(f,\,P') + \varepsilon/4$ 이다. 즉,
$$
U(f,\,P'')-L(f,\,P'') \le \varepsilon/2 + \varepsilon/4 < \varepsilon\;.
$$


<b>7. </b> $f: Q\to \mathbb{R}$ 이 bounded 일 때 다음 statements가 equivalent 함을 보이시오.

a. $f$ is integrable over $Q$ with $\displaystyle A= \int_Q f$. 

b. $\forall \varepsilon>0,\, \exists \delta >0$ s.t. $P \in \mathbb{P}(Q)$ of which mesh is less than $\delta$, $R$ is a subrectangle in $P$, $\mathbf{x}_R$ is an arbitrary point in $R$ 일 때 다음을 만족한다. 
$$
\left| \sum_{R \in P} f(\mathbf{x}_R)v(R)-A\right|<\varepsilon\;.
$$

---

(1) a $\implies$ b 를 증명한다. Exercise 6. 에 의해 $f$가 integrable 이면 임의의 $\varepsilon>0$ 에 대해 어떤 mesh가 $\delta$ 보다 작은 partition of $Q$ 가 존재하여 $U(f,\,P)-L(f,\,P)<\varepsilon$ 이며 $L(f,\,P)\le A \le U(f,\,P)$ 이다.
$$
L(f,\,P)\le \sum_{R\in P} f(\mathbf{x}_R)v(R)  \le U(f,\,P)\\
L(f,\,P) \le A\le U(f,\,P)
$$
이므로 $\left|\sum\limits_{R\in P} f(\mathbf{x}_R)v(R)\right| \le U(f,\,P)-L(f,\,P) <\varepsilon$.  

(2) b $\implies a$ 를 증명한다. Suppose b holds. 따라서, $|U(f,\,P)-A|<\varepsilon$ 이며 $|L(f,\,P)-A|<\varepsilon$ .
$$
|U(f,\,P)-L(f,\,P)| \le |U(f,\,P)-A|+|L(f,\,P)-A|<2\varepsilon. 
$$
$f$ is integrable over $Q$. 



## 2. Existence of Integral.



#### Definition : Measure zero

$A\subset \mathbb{R}^n$ 일 때 임의의 $\varepsilon>0$ 에 대해 어떤 countable collection of rectangle $\{Q_1,\,Q_2,\ldots,\}$ 이 존재하여 $A\subset \bigcup Q_i $ 이며 $\sum\limits_{i=1} v(Q_i)<\varepsilon$ 이면 $A$는 **measure zero**를 가진다고 한다. 



#### Theorem 2.1

(a) $B\subset A$ 이고 $A$가 measure zero 이면 $B$도 measure zero 이다.

(b) $A$가 union of countable collections of measure zero sets 이면 $A$는 measure zero 이다.

(c) $A$가 measure zero $\iff$ 임의의 $\varepsilon>0$ 에 대해 어떤 countable collections of rectangle $\{Q_1,\,Q_2,\ldots\} $ 가 존재하여 $A\subset \bigcup \operatorname{Int}Q_i$ 이고 $\sum\limits_{i=1} v(Q_i)<\varepsilon$ .

(d) $Q$가 rectangle in $\mathbb{R}^n$ 이면 $\operatorname{Bd}Q$는 measure zero 이다.

---

*(Proof)* (a) is trivial

(b) Let $A=\{A_1,\,A_2,\ldots \}$ where each $A_i$ is measure zero. 따라서 countable collection of rectangle $\Gamma_i = \{Q^{i}_1,\,Q^{i}_2,\ldots\}$ satisfying $A_i \subset \bigcup_j Q^{i}_j$ and $\sum_j v(Q^{i}_j)<\varepsilon/2^i$ 가 존재한다. $\bigcup_i \Gamma_i$ 은 countable collection of rectangles 이며 $\sum\limits_{Q\in \bigcup_i \Gamma_i}v(Q)\le \sum\limits_{j=1}\varepsilon/2^j=\varepsilon$ .

(c) Trivial

(d) Let $Q=[a_1,\,b_1]\times \cdots \times [a_n,\,b_n]$. For arbitrary $\delta >0$,  we can define $Q^1_i,\,Q^2_i$ for $i=1,\ldots,\,n$, 
$$
\begin{align*}
Q^1_i &= [a_1,\,b_1]\times \cdots \times [a_{i-1},\,b_{i-1}]\times [a_i-\delta/2,\,a_i + \delta/2]\times [a_{i+1},\,b_{i+1}]\times \cdots \times [a_n,\,b_n]\\
Q^2_i &= [a_1,\,b_1]\times \cdots \times [a_{i-1},\,b_{i-1}]\times [b_i-\delta/2,\,b_i + \delta/2]\times [a_{i+1},\,b_{i+1}]\times \cdots \times [a_n,\,b_n]
\end{align*}
$$

Again, Let $\Gamma = \{Q^1_1,\ldots,\,Q^1_n,\,Q^2_1,\ldots,\,Q^2_n\}$. Then $\displaystyle \operatorname{Bd}Q \subset \bigcup_{Q'\in \Gamma}Q'=V$. 각각의 $v(Q^1_i)\le \delta (\operatorname{width} Q)^{n-1}$, and $v(Q^2_u)\le \delta (\operatorname{widt}Q)^{n-1}$ 이므로 $v(V)\le 2n \cdot \delta (\operatorname{width}Q)^{n-1}$. If we set $\delta < \varepsilon/ (2n (\operatorname{width}Q)^{n-1})$, then $v(V)<\varepsilon$. 따라서 $\operatorname{Bd}Q$ is measure zero. $\qquad \square$



#### Definition : Oscillation

$f:Q \subset \mathbb{R}^n \to \mathbb{R}$일 때  given $\mathbf{a}\in Q$, $\delta >0$ 에 대해 

$$
\begin{align*}
M_\delta (f,\,\mathbf{a})& =\sup \{f(\mathbf{x}): \mathbf{x} \in Q \text{ and } |\mathbf{x}-\mathbf{a}|<\delta \} \;,\\
m_\delta (f,\,\mathbf{a})&=\inf \{f(\mathbf{x}): \mathbf{x} \in Q \text{ and } |\mathbf{x}-\mathbf{a}|<\delta \}\;.
\end{align*}
$$
를 생각하자. 이 때 다음으로 정의되는 $\nu(f;\,\mathbf{a})$를 **oscillation** of $f$ at $\mathbf{a}$ 라 한다.
$$
\nu(f;\, \mathbf{a}) = \inf_{\delta >0}\, \left[M_\delta (f,\,\mathbf{a}) - m_{\delta}(f,\,\mathbf{a})\right]\;.
$$




#### Lemma 2.3

$f:Q\subset \mathbb{R}^n \to \mathbb{R}$ 에 대해 $\nu (f;\mathbf{a})$ 는 non-negative 이며 다음이 성립한다.
$$
f \text{ is continuous at }\mathbf{a} \iff \nu(f;\,\mathbf{a})=0
$$

---

*(Proof)* (1) $\nu (f;\,\mathbf{a})$ 가 nonnegative 임은 자명하다.

(2) $f$가 $\mathbf{a}$에서 연속임을 가정하자. 임의의 $\varepsilon>0$ 에 대해 $|\mathbf{x}-\mathbf{a}|<\delta \implies |f(\mathbf{x})-f(\mathbf{a})|<\varepsilon$ 을 만족하는 $\delta>0$ 이 존재하므로 $\nu(f;\mathbf{a})=0$ 이다.

(3) $\nu (f;\,\mathbf{a}) = 0$ 임을 가정하자. 임의의 $\varepsilon >0$ 에 대해 어떤 $\delta >0$ 이 존재하여 $M_\delta (f,\,\mathbf{a})  - m_\delta (f,\,\mathbf{a})<\varepsilon$ 이다. 그런데,
$$
| f(\mathbf{x}) - f(\mathbf{a}) | < M_\delta (f,\,\mathbf{a})-m_\delta (f,\,\mathbf{a}) <\varepsilon\
$$
이므로 $f$는 $\mathbf{a}$ 에서 연속이다.$\qquad\square$




#### Theorem 2.4

$Q$ 가 $\mathbb{R}^n$ 에서의 rectangle 이고 $f:Q \to \mathbb{R}$ 은 bounded 이다. $D = \{\mathbf{x} \in Q : f \text{ is not continuous at }\}$ 일 때 다음이 성립한다.
$$
\int_Q f \text{ exists }\iff D \text{ has measure zero}.
$$

---

*(Proof)* (1) Let $|f(\mathbf{x})|\le M$ for all $\mathbf{x}\in Q$. 

(2) $f$가  $Q$에서 integrable 임을 가정하자. $D_m = \{\mathbf{a} \in Q : \nu (f;\,\mathbf{a}) \ge 1/m\}$  일 때 $D_m$이 measure zero 임을 보이자. Fix $\varepsilon>0$ and $m$.  $f$가 integrable 이므로 ${}^\exists P \in \mathbb{P}(Q)$. s.t. $U(f,\,P)-L(f,\,P)\le \varepsilon/2m$. 

Defined $D'_m$ and $D''_m$ as follows
$$
\begin{align*}
D'_m &= \{\mathbf{x} \in D_m : \mathbf{x}\in \operatorname{Bd}(R)  \text{ for some }R\in P\}\;,\\
D''_m &= D_m-D'_m\;.
\end{align*}
$$
$\operatorname{Bd}(R)$ 이 measure zero 이므로 $D'_m$도 measure zero 이다. 따라서 $D'_m$을 그 total volume이 $\varepsilon/2$보다 작은 countable collection of rectangles로 cover 할 수 있다.

Define $\Gamma'' = \{ R \in P : R \cap D''_m \ne \varnothing\}$. $R_i\in \Gamma''$ 이면 모든 $\mathbf{a}\in R_i$ 에 대해 $\mathbf{a}\not\in \operatorname{Bd}(R_i)$ 이다. 따라서 $R_i$에 포함되며 $\mathbf{a}$를 중심으로 하는 cube $C(\mathbf{a},\,\delta)$ 가 존재한다.  이 때,
$$
\dfrac{1}{m} \le \nu (f,\,\mathbf{a}) \le M_\delta (f,\,\mathbf{a})-m_\delta(f,\,\mathbf{a}) \le M_{R_i}(f)-m_{R_i}(f)
$$
이며 여기에 $v(R_i)$ 를 곱하고 모든 $P$에 포함되는 rectangle 에 대해 sum하면, 
$$
\sum_{R_i \in \Gamma''}\dfrac{1}{m}v(R_i) \le U(f,\,P)-L(f,\,P) <\dfrac{\varepsilon}{2m}
$$
이므로  $\displaystyle \sum_{R_i \in \Gamma''}v(R_i) \le \varepsilon/2$ 이다. 따라 $D''_m$ 도 measure zero. 따라서  $D_m$는 measure zero 이며 $\displaystyle D=\bigcup_{m=1}^{\infty}D_m$ 이므로 $D$도 measure zero 이다.

(3) $D$가  measure zero 임을 가정하자. 우리는 임의의  $\varepsilon >0$에 대해 어떤 $P \in \mathbb{P}(Q)$ 가 존재하여 $U(f,\,P)-L(f,\,P)<\varepsilon$ 임을 보일것이다. 이를 위해 $\varepsilon'$을 아래와 같이 정의한다.
$$
\varepsilon' = \dfrac{\varepsilon}{2M+2v(Q)}\;.
$$
$D$가 measure zero 이므로 어떤 countable collection of interior of rectangles $\Gamma_1 = \{\operatorname{Int}(Q_i) :i=1,\,2,\ldots\}$ of which total volume is less than $\varepsilon'$ 이 존재하여 $\Gamma_1$이 $D$를 cover 함을 알고 있다 (Theorem 2.1.c). 또한 $f$의 continuity로부터 $\mathbf{a} \in Q -D$ 이면 어떤 open rectangle centered at $\mathbf{a}$, $Q_{\mathbf{a}}=C(\mathbf{a},\,\delta_{\mathbf{a}})$ 가 존재하여 $|f(\mathbf{x})-f(\mathbf{a})|<\varepsilon'$ for all $\mathbf{x} \in Q_{\mathbf{a}}\cap Q$ 임을 알고 있다. $\Gamma_2=\{\operatorname{Int} (Q_{\mathbf{a}}) : \mathbf{a}\in Q\}$ 와 $\Gamma_1$ 의 union은 $Q$ 를 cover 하며, $Q$가 compact 하므로 finite collection of $\Gamma_1 \cup \Gamma_2$ 는  $Q$를 cover 한다. 이 finite collection을 $\Gamma$ 라 하고, 이 가운데 $\Gamma_2$ 안에 포함되는 interior of rectangle을 $\operatorname{Int}Q'_i$ 라 하면, 
$$
\Gamma = \{\operatorname{Int}Q_1,\ldots,\,\operatorname{Int} Q_k,\operatorname{Int}Q'_1,\ldots,\,\operatorname{Int}Q'_l\}
$$
이라 쓸 수 있으며 $\Gamma$는 $Q$를 cover 한다. $K_i = Q_i \cap Q$, $K'_j = Q'_j \cap Q$ 라 정의하고,  이것의 collection을 $\Gamma'$ 이라 하자. 우리는 $\sum\limits_{i=1}^k v(K_i)< \varepsilon'$ 이며, $|f(\mathbf{x})-f(\mathbf{y})|\le 2\varepsilon'$ for all $\mathbf{x},\,\mathbf{y} \in K'_j$ 임을 알고 있다. 또한 $\Gamma'$이 $Q$를 cover 함을 안다.

각각의 $K_i$ 와 $K'_j$ 들의 components intervals의 end points를 모아 partition of $Q$, $P$를 구성 할 수 있으며 모든 $R \in P$는 어떤 $K_i$ 혹은 $K'_j$ 에 포함되거나 둘 다에 포함된다. $\mathcal{R}=\{R \in P : R \subset K_i \text{ for some }i=1,\ldots,\,k\}$, $\mathcal{R}' = \{R\in P : R \subset K'_j \text{ for some }j=1,\ldots,\,l\}$ 이라 정의하자.  
$$
\begin{align*}\sum_{R \in \mathcal{R}} \left(M_R (f)-m_R (f) \right)v(R) &\le 2M \sum_{R \in \mathcal{R}} v(R) \le 2M\varepsilon' \;,\\\sum_{R \in \mathcal{R}'} \left(M_R (f) - m_R (f)\right)v(R) &\le 2\varepsilon' \sum_{R\in \mathcal{R}'}v(R)\le 2\varepsilon'v(Q)\;.\end{align*}
$$
따라서, 
$$
\begin{align*}U(f,\,P) - L(f,\, P)  &= \sum_{R \in P}\left(M_R (f) - m_R (f) \right)v(R) \\&\le \sum_{R\in \mathcal{R}}(M_R(f)-m_R(f))v(R) + \sum_{R\in \mathcal{R}'}(M_R(f)-m_R(f))v(R)  \\&\le 2M\varepsilon' + 2\varepsilon'v(Q) = \varepsilon'(2M+2v(Q))=\varepsilon\;. \qquad\square\end{align*}
$$



#### Theorem 2.5

$Q$가 $\mathbb{R}^n$에서의 rectangle 이고 $f:Q \to \mathbb{R}$ 이 integrable 일 때 다음이 성립한다.

(a) 어떤 measure zero subset of $Q$, $E$ 에서 $f(Q-E)=\{0\}$ 이면 $\displaystyle \int_Q f=0$ .

(b) $f(\mathbf{x})\ge 0$ for all $\mathbf{x} \in Q$ 이며 $\displaystyle \int_Q f=0$ 이면 $D=\{\mathbf{x} \in Q : f(\mathbf{x})\ne0\}$ 는 measure zero 이다.

---

*(Proof)* (a) Let $P \in \mathbb{P}(Q)$. $R\in P$ 일 때, $R \subset E$ 일 수 없으므로 $m_R (f) \le 0$ , $M_R (f) \ge 0$ 이다. 따라서,
$$
\underline{\int_Q}f \le 0\,,\quad \overline{\int_Q}f \ge 0
$$
 이다. 따라서 $f$가 integrable 이면 $\displaystyle \int_Q f=0$.

(b) $f$가 $\mathbf{a}\in Q$ 에서 연속이라 하자. $f(\mathbf{a})>0$ 이면 어떤 $\mathbf{a}$ 를 포함하는 subrectangle $Q_a$ of $Q$ 에서 $f(\mathbf{x})>0$ for all $\mathbf{x}\in N$ 이므로 $\displaystyle \int_Q f \ge \int_{Q_a}f >0$. 이는 문제의 가정에 모순이므로 $f$가 $\mathbf{a}$에서 연속이면 $f(\mathbf{a})=0$ . Theorem 2.4에 의해 $D$는 measure zero.$\qquad \square$



#### Exercise (pp. 97-98)



<b>1. </b> $A$가 measure zero in $\mathbb{R}^n$ 일 때 $\overline{A}$ 와  $\operatorname{Bd} (A)$ 가 measure zero가 아닐 수도 있음을 보이시오.

---

Let $A=\mathbb{Q}^n$. $\mathbb{Q}^n$ 이 countable set of points 이므로 $A$는 measure zero. $\overline{A}=\mathbb{R}^n$ 이므로 measure zero가 아니다. 또한 $\operatorname{Bd} A=\overline{A}$ 이므로 마찬가지.



<b>2. </b> $A$ 가 open in $\mathbb{R}^n$ 이면 $A$는 measure zero가 아님을 보이시오.

---

$A$가 open in $\mathbb{R}^n$ 이고 $\mathbf{x}\in A$ 이면 $\mathbf{x}$를 중심으로 하는 어떤 cube $C(\mathbf{x},\,\delta)$가 $A$에 포함되어야 하며 $v(A) > (2\delta)^n>0$ 이어야 한다. 



<b>3. </b> $\mathbb{R}^{n-1}\times \{0\}$ 은 measure zero in $\mathbb{R}^n$ 임을 보이시오.

---

Define $U(\mathbf{x})$ and $C_1(\mathbf{x},\,\delta)$ be a rectangle in $\mathbb{R}^n$ s.t. 
$$
\begin{align*}
U(\mathbf{x}) &= [x_1-1/2,\,x_1+1/2]\times \cdots \times[x_{n-1}-1/2,\, x_{n-1}+1/2]\times \{0\}\;,\\\\
C_1(\mathbf{x},\,\delta) &= [x_1-1/2,\,x_1+1/2]\times \cdots \times[x_{n-1}-1/2,\, x_{n-1}+1/2]\times [-\delta/2,\,\delta/2]\;.
\end{align*}
$$

Let $S = \{U(\mathbf{x},\,\delta) : \mathbf{x} \in \mathbb{Z}^{n-1}\}$. Then $S$ is a countable collection rectangles which covers $\mathbb{R}^{n-1}\times \{0\}$. For any $\delta >0$, $U(\mathbf{x}) \subset C_1(\mathbf{x},\,\delta)$ and $v (C_1(\mathbf{x},\,\delta)) = \delta$ 이므로 $U(\mathbf{x},\,\delta)$ 는 measure zero 이며 따라서 $\mathbb{R}^{n-1}\times \{0\}$ 도 measure zero 이다. $\qquad\square$



<b>4. </b> $[0,\,1]-\mathbb{Q}$ 는 measure zero가 아님을 보이시오.

---

$v([0,\,1])=1$ 이며 $\mathbb{Q}$는  measure zero 이다. 임의의 $\varepsilon >0$에 대해 어떤 open cover $\{U_1,\, U_2,\ldots\}$ 가 존재하여 $(\mathbb{Q}\cap [0,\,1])\subset \bigcup_{i=1}U_i$ 이며 $v(\bigcup_{i=1}U_i)<\varepsilon$ 이 되도록 할 수 있다. 

$K_i = [0,\,1]-U_i$ for $i=1,\,2,\ldots$ 라 하면 $K_i$는 compact in $[0,\,1]$ 이며 $\bigcap_{i=1}K_i \subset [0,\,1]-\mathbb{Q}$ , $v(\bigcap_{i=1}K_i) \ge 1-\varepsilon$ 이다. 따라서 $[0,\,1]-\mathbb{Q}$는 measure zero 가 아니다.



<b>5. </b> $A$가 compact subset of $\mathbb{R}^n$ 이며 measure zero 라 하자. 그렇다면 임의의 $\varepsilon >0$ 에 대해 $A$를 cover 하는, 총 부피가 $\varepsilon$ 보다 작은  finite collection of rectangles이 존재함을 보이시오.

---

$A$가 measure zero 이므로 $A$를 cover 하며 총 부피가 $\varepsilon$보다 작은 countable collection of open rectangles가 존재한다. (theorem 2.1.c). $A$가 compact 하므로 이 countable collection중 유한개의 open rectangle로 $A$를 cover 할 수 있으며 당연히 이 finite open cover의 총 부피는 $\varepsilon$ 보다 작다.



<b>6. </b>$f:[a,\,b]\to \mathbb{R}$ 이며 **graph** of $f$, $G_f$는 다음과 같이 정의된다.
$$
G_f = \{(x,\,f(x)): x\in [a,\,b]\}\;.
$$
$f$가 연속이면 $G_f$가 measure zero in $\mathbb{R}^2$ 임을 보이시오.

---

$f$가 compact $[a,\,b]$ 에서 연속이므로 $f$는 uniformly continuous on $[a,\,b]$ 이다. 따라서 임의의 $\varepsilon>0$ 에 대해 어떤 $\delta >0$이 존재하여 $|y-x|<\delta \implies |f(y)-f(x)|<\varepsilon$ 이다. 즉 width 가 $\delta$ 를 가진 구간으로 $[a,\,b]$ 를 partition 했다고 가정하자. $a+(N-1)\delta < b \le a+N\delta$ 인 $N \in \mathbb{N}$이 항상 존재하며 따라서 $G_f$를 총 부피가 $N\delta\varepsilon$ 보다 작은 closed rectangles로 cover 할 수 있다. $N<(b-a)/\delta +1$ 이므로 $v(G_f)< (b-a)\varepsilon + \delta \varepsilon < 2(b-a)\varepsilon$ for reasonably small $\delta$. 따라서 $G_f$는 measure zero.



<b>8. </b> $Q$는 $\mathbb{R}^n$ 에서의 rectangle 이고 $f:Q \to \mathbb{R}$은 bounded 이다. $B$가 measure zero closed set in $Q$ 이며 $f(Q-B)=\{0\}$ 이면 $f$가 integrable 이며 $\displaystyle \int_Q f =0$ 임을 보이시오.

---

$B$가 closed and bounded 이므로 $B$는 compact 하다. $B$가 measure zero 이므로 임의의 $\varepsilon>0$ 에 대해 $B$를 cover 하는 countable collection of open rectangles $\Gamma_0 = \{\operatorname{Int}Q_i :i=1,\,2,\ldots \}$ of which total volume is less than $\varepsilon$ 이 존재한다. $B$가 compact 하므로 $\Gamma$의 원소중 유한개로 $B$를 cover 할 수 있다. 이를 $\Gamma$라 하자. $\Gamma = \{ \operatorname{Int}Q_i:i=1,\ldots,\,N \}$ 으로 할 수 있다. 당연히 $v(\bigcup\limits_{i=1}^N Q_i)<\varepsilon$ 이다. 이로부터 같은 부피와 $B$를 cover 하는 finite collection of closed rectangles $\Gamma' = \{K_i=\overline{\operatorname{Int} Q_i} : i=1,\ldots,\,N\}$ 을 생각 할 수 있다. 

$\Gamma'$의 원소인 각각의 rectangles의 component elements를 이용하여 partition $P$를 구성하자.  $R\in P$  이면 $R\subset K_i$ for some $i=1,\ldots,\,N$ 이다. 

$f$가 bounded 이므로 $|f|<M$ 이라 하자. $|U(f,\,P)|<M\varepsilon$ 임은 자명하다. 또한 $|L(f,\,P)|<M\varepsilon$ 이다. 따라서,
$$
U(f,\,P)-L(f,\,P)< |U(f,\,P)|+|L(f,\,P)|<2M\varepsilon
$$
이다. $f$는 integrable 이며 $\displaystyle \int_Q f=0$ 이다. 



<b>9. </b> $Q$가 rectangle in $\mathbb{R}^n$ 이며 $f:Q\to \mathbb{R}$이 integrable 일 때 다음을 보이시오.

(a) $f(\mathbf{x})\ge 0$ for all $\mathbf{x}\in Q$ 이면 $\displaystyle \int_Q f \ge 0$ 이다.

(b) $f(\mathbf{x})>0$ for all $\mathbf{x} \in Q$ 이면 $\displaystyle \int_Q f>0$ 이다.

---

(a) $\displaystyle 0 \le L(f,\,P) \le \int_Q f $ for any partition $P$ of $Q$. 

(b) $\displaystyle 0 < L(f,\,P) \le \int_Q f$ for any partition $P$ of $Q$.



<b>10. </b> $Q_1,\,Q_2,\ldots$ 가 countable collection of rectangles covering $Q$ 일 때 $v(Q)\le \sum_i v(Q_i)$ 임을 보이시오.

---

Trivial



## 3. Evaluation of the integral



#### Theorem 3.1 (Fundamental theorem of calculus)

(a) $f: [a,\,b]\to \mathbb{R}$ 이 연속이고 $\displaystyle F(x) = \int_a^x f$ 라 정의하면 $F'(x) = f(x)$ 이다.

(b) $f$가 $[a,\,b]$ 에서 연속이고 $g :[a,\,b]\to \mathbb{R}$ 이 $g'(x)=f(x)$ for all $x\in[a,\,b]$ 이면 $\displaystyle \int_a^b f = g(b)-g(a)$ 이다.

---

이것은 잘 알려져 있으며 증명 없이 사용한다.



#### Theorem 3.2 (Fubini's Theorem)

$A,\,B$가 각각 $\mathbb{R}^k$와 $\mathbb{R}^n$에서의 rectangle 이고 $Q=A\times B$ 라 하자. $f:Q\to \mathbb{R}$이 bounded 이며 $f$를 $f(\mathbf{x},\,\mathbf{y})$ where $\mathbf{x} \in A$ and $\mathbf{y}\in B$라 쓰자. 각각의 $\mathbf{x}\in A$에 대해 lower and upper integrals
$$
\underline{I}(\mathbf{x})=\underline{\int_{\mathbf{y} \in B}} f(\mathbf{x},\,\mathbf{y}) \qquad \text{and}\qquad \overline{I}(\mathbf{x})=\overline{\int_{\mathbf{y}\in B}}f(\mathbf{x},\,\mathbf{y})
$$
를 생각하자. $f$가 integrable over $Q$ 이면 위의 두 함수는 integrable 이며,
$$
\int_Q f= \int_{\mathbf{x}\in A}\underline{\int_{\mathbf{y}\in B}}f(\mathbf{x},\,\mathbf{y}) = \int_{\mathbf{x}\in A}\overline{\int_{\mathbf{y}\in B}}f(\mathbf{x},\,\mathbf{y})
$$
이다.

---

*(Proof)* (1) $P \in \mathbb{P}(Q)$ 이면 $P$는 $A$에 대한 partition $P_A$와 $B$에 대한 partition $P_B$로 이루어져 있다. $P=(P_A,\,P_B)$ 라 쓰자.  $R\in P$ 이면 $\exists R_A \in P_A$, $\exists R_B\in P_B$ s.t. $R=R_A \times R_B$ 이다. 

(2) 우선 $L(f,\,P)\le L(\underline I,\,P_A)$ 임을 보이자. 
$$
\begin{align*}
L(f,\,P) &= \sum_{R_A \in P_A} \sum_{R_B\in P_B} m_{R_A \times R_B}(f) \cdot v(R_A\times R_B)\\ \\
&\le \sum_{R\in P_A} \sum_{R_B \in P_B} m_{R_B}(f(\mathbf{x}_0,\,\mathbf{y}))\cdot v(R_A\times R_B) &;\text{for any }\mathbf{x}_0 \in A \text{ and }\mathbf{y}\in R_B \\
&\le\sum_{R_A \in P_A} \underline{\int_{\mathbf{y}\in B}}f(\mathbf{x}_0,\,\mathbf{y})\cdot v(R_A) \\
&= \sum_{R_A \in P_A} \underline{I}(\mathbf{x}_0)\cdot v(R_A) &;\text{for any }\mathbf{x}_0 \in A \qquad \qquad \quad\;
\end{align*}
$$

(3) 같은 방법으로 $U(\overline{I},\,P_A)\le U(f,\,P)$ 임을 보일 수 있다. 따라서 아래의 inequality가 성립한다.
$$
\begin{array}{ccccc}
{} & {}& \le U(\underline{I},\,P_A) \le & {} & {} \\
L(f,\,P)& \le L(\underline{I},\,P_A) & {} & U(\overline{I},\,P_A) &\le U(f,\,P) \;.\\
{} & {}& \le L(\overline{I},\,P_A) \le & {} & {} \\
\end{array}
$$
(5) $f$가 integrable over $Q$ 이므로 $\overline{I},\,\underline{I}$ 도 integrable over $A$ 이며 다음이 성립한다.
$$
\int_Q f= \int_{\mathbf{x}\in A}\underline{\int_{\mathbf{y}\in B}}f(\mathbf{x},\,\mathbf{y}) = \int_{\mathbf{x}\in A}\overline{\int_{\mathbf{y}\in B}}f(\mathbf{x},\,\mathbf{y})\;. \qquad \square
$$



#### Corollary 3.3 

$A,\,B$가 각각 $\mathbb{R}^k,\,\mathbb{R}^n$에서의  rectangle 이며 $Q=A\times B$ 라 하자. $f:Q \to \mathbb{R}$이 bounded 이며 integrable over $Q$  이고 각각의 $\mathbf{x} \in A$에서  $\displaystyle \int_{\mathbb{y}\in B} f(\mathbf{x},\,\mathbf{y})$ 가 존재하면 다음이 성립한다.
$$
\int_Q f = \int_{\mathbf{x}\in A} \int_{\mathbf{y}\in B}f(\mathbf{x},\,\mathbf{y})
$$

---

*Obvious from theorem 3.2*



#### Corollary 3.4

$I_1,\ldots,\,I_n$ 이 각각 $\mathbb{R}$에서의 closed interval 이며 $Q=I_1 \times \cdots \times I_n$ 이라 하자. $f:Q \to \mathbb{R}$이 연속이면 다음이 성립한다.
$$
\int_Q f = \int_{\mathbf{x}_1 \in I_1} \cdots \int_{\mathbf{x_n}\in I_n} f(\mathbf{x}_1,\ldots,\,\mathbf{x}_n)\;.
$$

---

*Obvious from theorem 3.2*



#### Exercise (pp. 103)



<b>1.</b> Theorem 3.2에서 $U(\overline{I},\,P_A)\le U(f,\,P)$ 임을 앞의 증명방법을 따라 정확히 보이시오.

---

$$
\begin{align*}
U(f,\,P) & = \sum_{R_A\in P_A}\sum_{R_B\in P_B} M_{R_A \times R_B}(f) \cdot v(R_A)v(R_B) & {}\\
&\ge \sum_{R_A\in P_A}\sum_{R_B\in P_B} M_{R_B}(f(\mathbf{x}_0,\,\mathbf{y}))\cdot v(R_A)v(R_B) &;\text{for any }\mathbf{x}_0 \in A \text{ and }\mathbf{y}\in B\\
&\ge \sum_{R_A\in P_A} \overline{\int_{\mathbf{y}\in B}}f(\mathbf{x}_0,\,\mathbf{y}) \cdot v(R_A) &{}\\
&= U(\overline{I}(\mathbf{x}_0),\,P_A) &;\text{for any }\mathbf{x}_0 \in A \qquad \qquad \quad
\end{align*}
$$



<b>2. </b> $I=[0,\,1]$ , $Q=I \times I$ 라 하자. $f:Q \to \mathbb{R}$ 이 다음과 같이 정의된다.
$$
f(x,\,y) = \left\{\begin{array}{ll} \dfrac{1}{q} \qquad\qquad & \text{if }x,\,y \in \mathbb{Q},\;x=\dfrac{p}{q},\; p\in \mathbb{Z}_+ ,\, q\in \mathbb{Z}_+, \text{ and } \gcd(p,\,q)=1\;, \\0 & \text{otherwise}\;.\end{array}\right.
$$
(a) $\displaystyle \int_Q f$가 존재함을 보이시오

(b) $\displaystyle \underline{\int_{y \in I}} f(x,\,y)$ 와  $\displaystyle \overline{\int_{y\in I}}f(x,\,y)$ 를 계산하시오.

(c) Fubini's theorem을 증명하시오. (문제상 Fubini's theorem이 성립함을 보이는 것 같음. )

---

(a) $0 \le f(x,\,y) \le 1$ 이므로 $f$는 bounded 이며 $E=\{(x,\,y)\in Q : f(x,\,y)\ne 0\}$ 의 measure가 $0$ 이므로 $f$는 integrable 하며 $\displaystyle \int_Qf=0$ 이다. 

(b) $\displaystyle \underline{\int_{y\in I}}f(x,\,y)=0$ 임은 자명하다. $x\in Q-\mathbb{Q}^2$ 일 때 $f(x,\,y)=0$ 이므로 $\displaystyle \overline{\int_{y\in I}} f(x,\,y)=0$ 이다. $x\in Q\cap \mathbb{Q}^2$이면 $\displaystyle \overline{\int_{y \in I}}f(x,\,y)= \dfrac{1}{q} v(Q\cap \mathbb{Q}^2)$ 이다. $Q\cap \mathbb{Q}^2$ 가 measure zero 이므로 $\displaystyle \overline{\int_{y\in I}}f(x,\,y)=0$ 이다.

(c) Trivial



<b>3. </b> $A,\,B$가 각각 $\mathbb{R}^k,\,\mathbb{R}^n$ 의 rectangle 이며 $Q=A \times B$ 이고 $f:Q\to \mathbb{R}$이 bounded 라 하자.

(a) $g:A \to \mathbb{R}$이 모든 $\mathbf{x}\in A$ 에서 $\displaystyle \underline{\int_{\mathbf{y}\in B}}f(\mathbf{x},\,\mathbf{y}) \le g(\mathbf{x} )\le \overline{\int_{\mathbf{y}\in B}} f(\mathbf{x},\,\mathbf{y})$ 이며 $f$가 integrable 일 때 $g$도 integrable 이며 $\displaystyle \int_Q f = \int_A g$ 임을 보이시오. 

(b) $\displaystyle \int_Q f$가 존재하며 $\displaystyle \int_{\mathbf{x}\in A}\int_{\mathbf{y}\in B} f(\mathbf{x},\,\mathbf{y})$ 와 $\displaystyle \int_{\mathbf{y}\in B}\int_{\mathbf{x}\in A} f(\mathbf{x},\,\mathbf{y})$  중 하나가 존재하지만 다른 하나는 존재하지 않는 예를 드시오.

(c)  $\displaystyle \int_{\mathbf{x}\in A}\int_{\mathbf{y}\in B} f(\mathbf{x},\,\mathbf{y})$ 와 $\displaystyle \int_{\mathbf{y}\in B}\int_{\mathbf{x}\in A} f(\mathbf{x},\,\mathbf{y})$  는 존재하지만 $\displaystyle \int_Q f$가 존재하지 않는 예를 드시오.

---

(a) $L(f,\,P) \le L(\underline{I}(\mathbf{x}),\,P_A) \le L(g,\,P_A) \le U(g,\,P_A) \le U(\overline{I}(\mathbf{x}),\,P_A) \le U(f,\,P)$ 가 성립한다. $f$가 integrable 이므로 임의의 $\varepsilon >0$ 에 대해 $\varepsilon > U(f,\,P)-L(f,\,P) \ge U(g,\,P_A)-L(g,\,P_A)$ 를 만족하는 $P$와 $P_A$가 존재하므로 $g$는 integrable 하다. Fubini's theorem 에 의해 
$$
\int_Q f =\int_{\mathbf{x}\in A}\underline{\int_{\mathbf{y}\in B}}f(\mathbf{x},\,\mathbf{y})  \le \int_{\mathbf{x}\in A}g(\mathbf{x}) \le \int_{\mathbf{x}\in A}\overline{\int_{\mathbf{y}\in B}}f(\mathbf{x},\,\mathbf{y}) \le \int_Q f
$$
이다. 따라서 $\displaystyle \int_Q f =\int_A g$ 이다.

(b) $A,\, B=[0,\,1] $ 이라 하자. $g:A \to \mathbb{R}$과 $h :B \to \mathbb{R}$을 다음과 같이 정의한다.
$$
\begin{align*}
g(x)&=\left\{\begin{array}{ll}1 \qquad &\text{if }x \in \mathbb{Q}\;,\\0 & \text{otherwise}\;. \end{array}\right. \\
h(y) &= \left\{\begin{array}{ll} \dfrac{1}{n} \qquad &   \dfrac{1}{n+1} <y \le \dfrac{1}{n} \text{  for } n \in \mathbb{Z}_+ \\ 0 & y=0\end{array} \right.

\end{align*}
$$
$f(x,\,y)= g(x)h(y)$라 하면 $D=\{(x,\,y) :f(x,\,y)\ne0\}$ 는 measure zero 이므로 $\displaystyle \int_Q f=0$ 이다. 또한 $\displaystyle\int_{y\in B}f(x,\,y)=0$ 이므로 $\displaystyle \int_{x\in A}\int_{y\in B}f(x,\,y)=0$ 이다. 그러나 $\displaystyle \int_{y\in B}f(x,\,y)$ 의 경우 integrable 하지 않으므로 $\displaystyle \int_{y\in B}\int_{x\in A}f(x,\,y)$ 는 존재하지 않는다.

(c)



<b>4. </b>$A$가 open in $\mathbb{R}^2$ 이며 $f:A \to \mathbb{R}$이 $C^2$-class 라 하자. $Q$는 $A$에 포함된 rectangle  이다. 

(a) Fubini's theorem과 fundamental theorem of calculus를 이용하여 다음을 보이시오.
$$
\int_Q D_2 D_1 f = \int_Q D_1D_2 f\;.
$$
(b) $D_2D_1 f(\mathbf{x}) = D_1D_2 f(\mathbf{x})$ for each $\mathbf{x}\in A$ 임을 보이시오.

---

(a) $Q$가  rectangle 이므로 compact in $\mathbb{R}^2$ 이며 $f$가 $C^2$-class 이므로 연속이다. 따라서 $f$는 bounded in $Q$ 이며 $D_1 f,\,D_2f,\,D_2D_1f$와 $D_1D_2f$는 연속이다. 따라서 $D_1f,\, D_2f,\,D_2D_1f$와 $D_1D_2f$는 integrable over $Q$ 이다. 

$Q=[a,\,b]\times [c,\,d]$ 라 하자. 그렇다면,
$$
\begin{align*}
\int_QD_2D_1f(x,\,y)  &= \int_{y\in [c,\,d]}\int_{x\in [a,\,b]}\partial_y \partial_x f(x,\,y) \\
&= \int_{y\in [c,\,d]}\partial_y \int_{x\in [a,\,b]}\partial_x f(x,\,y)\\
&= \int_{y\in [c,\,d]}[\partial_y f(b,\,y)-\partial_y f(a,\,y)]\\
&= f(b,\,d)-f(b,\,c)-f(a,\,d)+f(a,\,c)
\end{align*}
$$
같은 방법으로 $\displaystyle \int_QD_1D_2 f(x,\,y)= f(b,\,d)-f(b,\,c)-f(a,\,b)+f(a,\,c) = \int_Q D_2D_1f(x,\,y)$ 임을 보일 수 있다. 

(b) Define $h:Q\to \mathbb{R}$ as $h(\mathbf{x}) = D_2D_1f(\mathbf{x})-D_1D_2f(\mathbf{x})$. $h(\mathbf{a})>0$ for some $\mathbf{a} \in Q$ 이면 $h$가 연속이므로 $\mathbf{a}$를 포함하는 어떤 closed rectangle $C_a$에서 $h(\mathbf{x})>0$ for each $\mathbf{x} \in C_a$ 이며 따라서 $\displaystyle \int_{C_a}D_2D_1f > \int_{C_a}D_1D_2 f$. 이며 이는 (a)에 모순 $h(\mathbf{a})<0$ for some $\mathbf{a}\in Q$ 이어도 마찬가지. 따라서 $D_2D_1f=D_1D_2f$. 



## 4. The integral over a bounded set



#### Definition :Integral over a bounded set

$S$가 $\mathbb{R}^n$ 에서의 bounded set이고 $f:S \to \mathbb{R}$이 bounded 라 하자. $f_S: \mathbb{R}^n \to \mathbb{R}$을 다음과 같이 정의하자.
$$
f_S(\mathbf{x}) = \left\{\begin{array}{ll}  f(\mathbf{x}) \qquad &\text{if }\mathbf{x} \in S\,, \\ 0 &\text{otherwise}\,.\end{array} \right.
$$
$S$를 포함하는 rectangle $Q$에 대해 $\displaystyle \int_Q f_S$ 가 존재할 때, **integral** of $f$ over bounded set $S$, $\displaystyle \int_S f$ 를 
$$
\int_Q f = \int_S f_S
$$
로 정의한다. 



#### Lemma 4.1

$Q$와 $Q'$이 각각 $\mathbb{R}^n$에서의 rectangle 이고 $f:\mathbb{R}^n \to \mathbb{R}$ 이 bounded 이며 $f(\mathbf{x})=0$ if $\mathbf{x} \not\in Q\cap Q'$ 이라 하자. $\displaystyle \int_Q f$나 $\displaystyle \int_{Q'}f$ 중 한 값이 존재한다면 다른 값도 존재하며 두 값은 같다.

---

*(Proof)* (1) 우선 $Q \subset Q'$ 인 경우를 생각하자. $E=\{\mathbf{x} \in \operatorname{Int}Q : f \text{ is not continuous at }\}$ 이라 정의한다. 그렇다면 $f:Q \to \mathbb{R}$ 과 $f:Q' \to \mathbb{R}$ 이 불연속인 points 는 $E$ 이거나 $\operatorname{Bd}Q$ 에 존재한다. 

$\operatorname{Bd}Q$ 는 measure zero 이므로 $\displaystyle \int_Q f$ exists $\iff$ $E$ has measure zero 이다. (Theorem 2.4) 또한 $f(\mathbf{x})=0$ if $\mathbf{x} \not\in Q\cap Q'$ 이므로 $\displaystyle \int_{Q'} f$ exists $\iff$ $E$ has measure zero. 따라서,
$$
\int_Q f \text{ exists} \iff \int_{Q'}f \text{ exists}
$$
이다. 

(2) 이제 어쨌든 $\displaystyle \int_Q f$ 와 $\displaystyle \int_{Q'}f$ 가 존재함을 가정하자. 임의의 $P\in \mathbb{P}(Q')$ 에 대해 $Q$의 endpoints 를 추가한 refinement of $P$를 $P''$ 이라 하고 $P''$의 rectangle중 $Q$에 포함되는 것들을 모은 $Q$의 partition을 $P'$이라 하자. $R\in P''$ but $R \not\subset Q$ 이면 $R \subset Q'-Q$ 이거나 $R \cap Q \subset \operatorname{Bd}Q$ 이다. 전자의 경우 $m_R(f)=M_R(f) =0$ 이며 후자의 경우는 $m_R(f) \le 0$ 이나 $M_R(f) \ge 0$ 이다. 따라서,
$$
L(f,\,P)\le L(f,\,P'')\le \sum_{R\in P'}m_R (f) v(R) \le \int_Q f\;,\\
U(f,\,P) \ge U(f,\,P'') \ge \sum_{R\in P'}M_R (f) v(R) \ge \int_Q f\;.
$$
이다. 그러므로, $\displaystyle \int_{Q'}f$가 존재하며 $\displaystyle L(f,\,P)\le \int_{Q'}f \le U(f,\,P)$  이므로 $\displaystyle \int_Q f \le \int_{Q'}f \le \int_Q f$ 이다. 따라서 $\displaystyle \int_Q f= \int_{Q'}f$. $\qquad\square$



#### Lemma 4.2

$S\subset \mathbb{R}^n$ 이며 $f,\,g : S \to \mathbb{R}^n$ 이라 하자. $F,\,G : S \to \mathbb{R}^n$ 이 다음과 같이 정의되었다고 하자.
$$
F(\mathbf{x}) = \max \{f(\mathbf{x}),\, g(\mathbf{x}) \} \quad\text{and}\quad G(\mathbf{x})=\min \{f(\mathbf{x}),\, g(\mathbf{x}) \} \;.
$$
이 때, 다음이 성립한다.

(a) $f,\,g$가 $\mathbf{x}_0$에서 연속이면 $F,\,G$도 그렇다.

(b) $f,\,g$가 integrable over $S$ 이면 $F,\,G$ 도 그렇다.

---

*(Proof)* (a) $f,\,g$가 $\mathbf{x}_0$ 에서 연속임을 가정하면 임의의 $\varepsilon>0$ 에 대해 어떤 $\delta >0$ 이 존재하여,
$$
|\mathbf{x}-\mathbf{x}_0|<\delta \implies |f(\mathbf{x})-f(\mathbf{x}_0)|<\varepsilon \quad\text{and}\quad |g(\mathbf{x})-g(\mathbf{x}_0)|<\varepsilon\;.
$$
이를 이용하면 $|\mathbf{x}-\mathbf{x}_0|<\delta \implies |F(\mathbf{x})-F(\mathbf{x}_0)|<\varepsilon$ and $|G(\mathbf{x})-G(\mathbf{x}_0)|<\varepsilon$ 임을 쉽게 보일 수 있다. 따라서 $F,\,G$도 $\mathbf{x}_0$ 에서 연속이다.

(b) $f,\,g$가 integrable over $S$ 라 가정하자. $Q$를 $S$를 포함하는 rectangle in $\mathbb{R}^n$ 이라 하고 앞의 definition과 같이 $f_S,\,g_S$를 정의하자. 그렇다면 $F_S$와 $G_S$도 같이 정의 할 수 있다. $D_f=\{\mathbf{x}\in S : f  \text{ is not continuous at}\}$ , $D_g =\{\mathbf{x}\in S : g \text{ is not continuous at}\}$ 이라 정의하면 $f,\,g$가 integrable over $S$ 이므로 $D_f$와$D_g$는 measure zero 이며 따라서 $F$와 $G$각각이  $S$에서 불연속인 points의 집합도 measure zero 이다. $f,\,g$ 가 bounded in $S$ 이므로 $F,\,G$도 그러하다. 따라서 $F,\,G$도 integrable over $S$. $\qquad\square$



#### Theorem 4.3

$S\subset \mathbb{R}^n$ 이 bounded 이며 $f,\,g :S \to \mathbb{R}$ 이 bounded 일 때 다음이 성립한다.

(a) $f,\,g$가 integrable over $S$ 이면 임의의 $a,\,b\in\mathbb{R}$에 대해 $af+bg$도 integrable 이며,
$$
\int_S (af+bg)= a\int_S f + b\int_S g
$$
이다.

(b) $f,\,g$가 integrable over $S$ 이고 $f(\mathbf{x})\le g(\mathbf{x})$ for all $\mathbf{x}\in S$ 이면 다음이 성립한다.
$$
\int_S f \le \int_S g\;.
$$
또한, $|f|$도 integrable 이며 다음이 성립한다. 
$$
\left| \int_S f\,\right| \le \int_S |f|\;.
$$
(c) $T\subset S$ 이고 $f$가 non-negative 이며 integrable over $T$ and $S$ 이면 다음이 성립한다.
$$
\int_T f \le \int_S f\;.
$$
(d) $S=S_1 \cup S_2$, $T=S_1 \cap S_2$ 이고 $f$가 $S_1,\,S_2$에서 integrable 이면 $f$는 integrable over $S$ and $T$ 이며 다음이 성립한다.
$$
\int_Sf = \int_{S_1}f + \int_{S_2}f - \int_{T}f\;.
$$

---

*(Proof)* (a) $S$를 포함하는 bounded rectangle $Q$를 생각하자.  $f,\,g$가 integrable over $S$ 이므로 $f_S,\,g_S$ 는 integrable over $Q$ 이다. $D_f=\{\mathbf{x}\in S : f \text{ is discontinuous at }\}$,  $D_g=\{\mathbf{x}\in S : g \text{ is discontinuous at }\}$는 각각 measure zero $\implies D=\{\mathbf{x}\in S : af+bg \text{ is discontinuous at }\}$도 measure zero $\implies af+bg$ 는 integrable over $S\, \implies af_S +bg_S$는 integrable over $Q$ 이다. 

(1) 우선 $a>0,\,b>0$ 인 경우를 생각하자. For any rectangle $R\subset Q$,
$$
am_R(f_S) +bm_R(g_S) \le af_S(\mathbf{x})+bg_S(\mathbf{x}) \le aM_R(f_S)+bM_R(g_S)\quad\text{  for each }\mathbf{x}\in R
$$
이므로, 다음이 성립한다. 
$$
am_R(f_S)+bm_R(g_S) \le m_R(af_S+bg_S)\;,\\
aM_R(f_S) + bM_R (g_S) \ge M_R(af_S+bg_S)\;.
$$
 따라서, 임의의 partition of $Q$, $P$에 대해 
$$
aL(f_S,\,P)+bL(g_S,\,P) \le L(af_S+bg_S,\,P) \le \int_Q (af_S+bg_S) \;,\\
\int_Q (af_S+bg_S)\le U(af_S+bg_S,\,P)\le aU(f_S,\,P)+bU(g_S,\,P)\;.
$$
이다. $f_S$와 $g_S$의 정의에 의해 $af_S+bg_S = (af+bg)_S$ 이므로 ,
$$
a\int_Sf+b\int_Sg = \int_S (af+bg)\;.
$$
(2) 이제 $\displaystyle \int_Q (-f)= -\int_Q f$ 임을 보이자. $P$가 partition of $Q$ 이고 rectangle $R\subset Q$ 이면 
$$
-M_R(f) \le m_R(-f)\le  -f(\mathbf{x})\le  M_R(-f)\le-m_R (f) 
$$
for each $\mathbf{x}\in R$ 이다. 따라서
$$
-U(f,\,P) \le L(-f,\,P) \le \int_Q (-f) \le U(-f,\,P)\le -L(f,\,P)
$$
이므로 $\displaystyle \int_Q (-f)= -\int_Q f$ 이다.

(3)  (1), (2)로부터 임의의 실수 $a,\,b$에 대해 $\displaystyle a\int_S f + b\int_S g = \int_S (af+bg)$ 임을 알 수 있다. 

(b) $f(\mathbf{x})\le g(\mathbf{x})$ for all $\mathbf{x}\in S$ 이므로, 임의의 partition $P$ of rectangle $Q$ including $S$ 에 대해 
$$
L(f,\,P)\le L(g,\,P) \le \int_S g
$$
이다. $f$가 integrable 하므로 $\displaystyle \int_S f \le \int_S g$ 이다.

이제 $\displaystyle \left|\int_S f\,\right|\le \int_S |f|$ 임을 보이자. $-|f(\mathbf{x})| \le f(\mathbf{x})\le |f(\mathbf{x})|$ 이므로 $\displaystyle -\int_S |f|\le \int_S f \le \int_S|f|$ 이다. 따라서 
$$
\left|\int_S f\,\right| \le \int_S |f|\;.
$$
(c) $f_T(\mathbf{x}) \ge f_S (\mathbf{x})$ for all $\mathbf{x}\in T$ 이므로 $\displaystyle \int_T f \ge \int_S f$. 

(d) $f$가 non negative over $S$ 이고 $Q$가 $S$를 포함하는 rectangle 이라 하자. $f_{S_1},\,f_{S_2}$ 가 integrable over $Q$ 이며,
$$
f_S(\mathbf{x}) = \max\{f_{S_1}(\mathbf{x}),\,f_{S_2}(\mathbf{x})\}\qquad\text{and}\qquad f_T(\mathbf{x}) = \min\{f_{S_1}(\mathbf{x}),\,f_{S_2}(\mathbf{x})\}
$$
이다. 이를 이용하면 $f$는 integrable over $S=S_1 \cup S_2$ and $T=S_1 \cap S_2$ 이다.

이제 $f_{+}$ 와 $f_{-}$ 를 다음과 같이 정의하자.
$$
f_+ ({\mathbf{x}}) = \max\{f(\mathbf{x}),\,0\} \qquad \text{and} \qquad f_-(\mathbf{x}) =\max\{-f(\mathbf{x}),\,0\}\;.
$$
$f$가 integrable over $S_1$ and $S_2$ 이므로 $f_+$와$f_-$ 도 integrable over $S_1$ and $S_2$ 이며 앞의 결과들로부터 integrable over $S$ and $T$ 이다.

$f(\mathbf{x})=f_{+}(\mathbf{x})-f_{-}(\mathbf{x})$ 이므로 $f$는 integrable over $S$ and $T$ 이다. 또한
$$
f_S(\mathbf{x}) = f_{S_1}(\mathbf{x})+f_{S_2}(\mathbf{x})-f_T(\mathbf{x})
$$
이므로 (a)로부터
$$
\int_{S_1 \cup S_2} f = \int_{S_1}f + \int_{S_2}f - \int_{S_1 \cap S_2}f
$$
이다.  $\qquad \square$



#### Corollary 4.4

$S_1,\ldots,\,S_k$가 $\mathbb{R}^n$ 에서의 bounded set 이며 각각의 $1\le i <j \le n$ 에 대해 $S_i \cap S_j$가 measure zero 라 하자. $S=S_1 \cup \cdots \cup S_k$ 일 때 $f:S \to \mathbb{R}$ 이 각각의 $S_i$에서 integrable 이면 $f$는 integrable over $S$ 이며 다음이 성립한다. 
$$
\int_S f = \int_{S_1}f + \cdots + \int_{S_k}f\;.
$$

---

*Proof is trivial*



#### Convention

지금까지 적분을 다룸에 있어 함수 $f$에 특별한 제한을 두지 않았다. $\displaystyle \int_S f$ 를 생각하는데 있어 일반적으로 관심있는 것은 $f$가 $S$에서 연속인 경우이며 앞으로 특별한 언급이 없는 한 $S$에서 연속인 $f$를 생각하기로 한다.



#### Theorem 4.5

$S$가 bounded in $\mathbb{R}^n$ 이며 $f:S \to \mathbb{R}$ 이 bounded and continuous on $S$라 하자. 다음과 같이 정의된 집합 $E$를 생각한다.
$$
E=\{\mathbf{x}_0 \in \operatorname{Bd}S : \lim_{\mathbf{x}\to \mathbf{x}_0} f(\mathbf{x})\ne 0 \text{ or } \lim_{\mathbf{x}\to \mathbf{x}_0}f(\mathbf{x})\text{ can't be defined} \}
$$
$E$가 measure zero 이면 $f$는 integrable over $S$ 이다.  (이 역도 성립하는데 이에 대한 증명은 exercise로)

---

*(Proof)* (1) $S$를 포함하는 rectangle $Q$ in $\mathbb{R}^n$ 을 잡고  $f_S$를 다음과 같이 정의한다.
$$
f_S(\mathbf{x}) = \left\{\begin{array}{ll} f(\mathbf{x}) \qquad &\text{if } \mathbf{x} \in S \;,\\0 &\text{otherwise}.\end{array} \right.
$$
$\mathbf{x}_1 \not\in E$ 를 생각하자. $\mathbf{x}_1 \in \operatorname{Int}S$ 이거나 $\mathbf{x}_1 \in \operatorname{Ext}S$ 이면 $f_S$는 $\mathbf{x}_1$ 에서 연속임은 자명하다. 이제 남은것은 $\mathbf{x}_1\in \operatorname{Bd}S$ 뿐이다. $\mathbf{x}_1 \not \in E$ 이므로 $\lim\limits_{\mathbf{x}\to \mathbf{x}_1}f(\mathbf{x})=0$ 이다. 만약 $\mathbf{x}_1\in S$이면 $f$가 $S$에서 연속이므로 $f(\mathbf{x}_1)=0$. 따라서 $f_S(\mathbf{x}_1)=0$. $\mathbf{x}_1 \not\in S$ 이면 정의에 의해 $f_S (\mathbf{x}_1)=0$. 즉 $f_S$는 $E$에 포함되지 않는 모든 points에서 연속이다. 

(2) $f_S$는 $Q$에서 $E$에 포함되지 않는 모든 points에서 연속이며 따라서 integrable over $Q$ 이다. 그러므로 $f$는 integrable over $S$ 이다. $\qquad \square$ 



#### Theorem 4.6

$S$가 bounded set in $\mathbb{R}^n$ 이며 $f:S \to \mathbb{R}$은 continuous and bounded function 이다. $f$가 integrable over $S$ 이면 $f$는 integrable over $A=\operatorname{Int}S$ 이며 $\displaystyle \int_S f = \int_A f$ 이다. 

---

*(Proof)* Define $f_S$ and $f_A$ as the convectional way. 따라서 $f_A$는 continuous and bounded function이다. 다음과 같이 정의된 집합 $E$를 생각하자. 
$$
E=\{\mathbf{x}_0 \in \operatorname{Bd}S : \lim_{\mathbf{x}\to \mathbf{x}_0} f(\mathbf{x})\ne 0 \text{ or } f \text{ is discontinuous at}\}
$$
Theorem 4.5에서 보았듯이 $f_S$는 $E$에 포함되지 않은 모든 points에서 연속이며 $f_A$도 마찬가지라는 것을 쉽게 보일 수 있다. $f$가 integrable over $S$이므로 $f_S$는 어떤 measure zero set $D$를 제외하고 연속이다. 이는 $f_A$도 마찬가지. $f_S=f_A$ except $D$ 이므로 $\displaystyle \int_S f = \int_A f$ 이다.  $\qquad \square$



#### Exercises (pp. 111)

<b>1. </b> $f,\,g : S \to \mathbb{R}$ 이 integrable over $S$라 하자.

(a) $f$와 $g$가 어떤 measure zero set $D$ 이외에서 같다면 $\displaystyle \int_S f = \int_S g$ 임을 보이시오.

(b) $f(\mathbf{x})\le g(\mathbf{x})$ for each $\mathbf{x}\in S$ 이고 $\displaystyle \int_S f = \int_S g$ 이면 $D=\{\mathbf{x}\in S : f(\mathbf{x})\ne g(\mathbf{x})\}$ 는 measure zero 임을 보이시오.

---

(a) Define $h:S\to \mathbb{R}$ by $h=f-g$. $h =0$ except $D$. 따라서 $h$는 integrable 하며 $\displaystyle \int_S h=0$. By theorm 4.3.(a), $\displaystyle \int_S h = \int_S f - \int_S g=0$. 



(b) Define $h:S \to \mathbb{R}$ by $h=g-f$. Then $h(\mathbf{x})\ge 0$ for each $\mathbf{x}\in S$. $f,\,g$가 integrable 하므로 $h$는 integrable over $S$ 이며 $\displaystyle \int_S h \ge 0$. $D$가 measure zero가 아니라면 $\displaystyle \int_S h >0$ 이므로 $D$는 measure zero.



<b>2. </b> $A,\,B$가 각각 rectangle in $\mathbb{R}^k,\,\mathbb{R}^n$ 이고  $Q=A \times B$ 라 하자. $f:Q\to \mathbb{R}$ 이 bounded function 이다. $\displaystyle \int_Q f$가 존재한다면 어떤 measure zero set $D$ in $\mathbb{R}^k$ 에 대해 $\displaystyle \int_{\mathbf{y} \in B} f(\mathbf{x},\,\mathbf{y})$가 $\mathbb{x} \in A-D$ 에서 존재함을 보이시오.

---

Fubini's theorem에 의해 $\displaystyle \int_Q f$가 존재하면 $\displaystyle \underline{\int_{\mathbb{y}\in B}}f(\mathbf{x},\,\mathbf{y})$ 와 $\displaystyle \overline{\int_{\mathbb{y}\in B}}f(\mathbf{x},\,\mathbf{y})$ 가 존재하며,
$$
\int_Q f = \int_{\mathbf{x}\in A}\underline{\int_{\mathbf{y}\in B}}f(\mathbf{x},\,\mathbf{y}) = \int_{\mathbf{x}\in A}\overline{\int_{\mathbf{y}\in B}}f(\mathbf{x},\,\mathbf{y})
$$
이다. 따라서,
$$
0 = \int_{\mathbf{x}\in A}\left [\overline{\int_{\mathbf{y}\in B}} f(\mathbf{x},\,\mathbf{y}) - \underline{\int_{\mathbf{y}\in B}}f(\mathbf{x},\,\mathbf{y}) \right]
$$
이다. $\displaystyle \overline{\int_{\mathbf{y}\in B}}f(\mathbf{x},\,\mathbf{y}) \ge \underline{\int_{\mathbf{y}\in B}}f(\mathbf{x},\,\mathbf{y})$ 이므로 exercise 1에 의해 $\displaystyle \overline{\int_{\mathbf{y}\in B}}f(\mathbf{x},\,\mathbf{y}) = \underline{\int_{\mathbf{y}\in B}}f(\mathbf{x},\,\mathbf{y})$ except a measure zero set $D$ in $\mathbb{R}^k$ . 따라서 $\displaystyle \int_{\mathbf{y} \in B} f(\mathbf{x},\,\mathbf{y})$가 $\mathbb{x} \in A-D$ 에서 존재한다. 



<b>4. </b> $S_1,\,S_2$가 bounded set in $\mathbb{R}^n$ 이며 $f:S_1 \cup S_2 \to \mathbb{R}$ 이 bounded function 이라 하자. $f$가 $S_1,\,S_2$ 에서 integrable 이면 $f$는 $S_1-S_2$에서 integrable 이며 다음이 성립함을 보이시오.
$$
\int_{S_1-S_2} f = \int_S f-\int_{S_1 \cap S_2}f\;.
$$

---

(1) Theorem 4.3.(d)에 의해 $f$가 integrable over $S_1$ and $S_2$ 이므로 integrable over $S=S_1\cup S_2$ and $T=S_1 \cap S_2$ 이다. $f_{S_1-S_2}(\mathbf{x}) = \max\{0,\,f_{S_1}(\mathbf{x})-f_T (\mathbf{x})\}$ 임은 쉽게 보일 수 있다. Lemma 4.2에 의해 $f_{S_1-S_2}$ 는 integrable over $S$ 이다. 

(2) $S=(S_1-S_2) \cup (S_1 \cap S_2)$ 이며 $(S_1-S_2)\cap (S_1 \cap S_2)=\varnothing$ 이므로 theorem 4.3.(d)에 의해 
$$
\int_S f= \int_{S_1-S_2}f + \int_{S_1 \cap S_2}f \implies \int_{S_1-S_2}f = \int_S f - \int_{S_1 \cap S_2 }f\;.\
$$



<b>5. </b> $S$가 bounded set in $\mathbb{R}^n$ 이며 $f:S \to \mathbb{R}$ 이 bounded continuous function 이다. $A = \operatorname{Int} S$ 일 때 $\displaystyle \int_A f$는 존재하지만 $\displaystyle \int_S f$는 존재하지 않는 예를 드시오.

---

Let $S$ be a set of irrational number in $[0,\,1]$. Then $A=\operatorname{Int}S = \varnothing$. Define $f(\mathbf{x})=1$ for each $\mathbf{x}\in S$. $Q=[0,\,1]$ 이라 하면 정의에 의해 $\displaystyle \int_S f = \int_Q f_S = 1$ 이지만 $\displaystyle \int_A f = \int_{\varnothing}f = 0$. 



<b>6. </b> Theorem 4.6이 $f$가 연속이라는 조건이 없어도 성립함을 보이시오.

<i>$S$가 bounded set in $\mathbb{R}^n$ 이며 $f:S \to \mathbb{R}$은 bounded function 이라 하자. $f$가 integrable over $S$ 이면 $f$는 integrable over $A=\operatorname{Int}S$ 이며 $\displaystyle \int_S f = \int_A f$ 이다. </i>

---

$S$를 포함하는 rectangle $Q$ in $\mathbb{R}^n$에 대해 $f$가 integrable over $S$ 라는 말은 $f_S$가 integrable over $Q$ 라는 말과 같은 뜻이다. 여기서 $f$가 bounded in $S$ 이므로 $f_S$는 bounded in $Q$ 이며 $f_S$가 integrable over $Q$ 이므로 $D_S=\{\mathbf{x} \in Q : f_S \text{ is discontinuous at}\}$ 은 measure zero 이다. $f_S$는 $\operatorname{Ext}S$ 에서 연속이므로 $D_S\subset \operatorname{Int}S \cup \operatorname{Bd}S$ 이다. $D_A =\{\mathbf{x} \in Q : f_A \text{ is discontinous at}\}$ 을 생각하자. $\mathbf{x}\in D_A \cap \operatorname{Int}S$ 이면 $\mathbf{x} \in D_S$ 이다. $\mathbf{x} \in D_A \cap \operatorname{Bd}S$ 이어도 $\mathbf{x}\in D_S$ 이다. 따라서 $D_A \subset D_S$ 이며 $D_A$는 measure zero 이다. 즉 $f$ is integrable over $A=\operatorname{Int}S$.



<b>7. </b> 다음을 증명하고자 한다.

$S$가 bounded in $\mathbb{R}^n$ 이며 $f:S \to \mathbb{R}$ 이 bounded function 이다. 집합 $D,\,E$가 아래와 같이 정의되었다.

$$
\begin{align*}
D& =\{\mathbf{x}\in S : f \text{ is not continuous at}\}\\
E& =\{\mathbf{x}_0 \in \operatorname{Bd}S : \lim_{\mathbf{x}\to \mathbf{x}_0}f(\mathbf{x}) \ne 0 \text{ or } f \text{ is discontinuous at}\}
\end{align*}
$$
이 때 다음이 성립한다.
$$
\int_S f \text{ exists} \iff D\text{ and }E \text{ has measure zero}
$$
(a) $f_S$는 $\mathbf{x}\in Q-(D\cup E)$  에서 연속임을 보이시오.

(b) $B$가 $S$의 isolated points의 집합이면 $B \subset E$ 이다. $f_S$가 $\mathbf{x}_0$ 에서 연속이면 $\mathbf{x}_0 \not\in D \cup (E-B)$ 임을 보이시오.

(c) $B$가 countable set 임을 보이시오.

(d) 증명을 완성하시오.

---

(a) $S$를 포함하는 rectangle $Q$ in $\mathbb{R}^n$을 생각하고 Let $D_Q=\{\mathbf{x}\in S : f \text{ is continuous at}\}$라 정의한다. $f_S$는 $\mathbf{x} \in \operatorname{Ext}S$ 에서 연속이므로 $D_Q \subset D \cup E$ 이다. 또한 $D\cup E\subset D_Q$임은 쉽게 보일 수 있다. 따라서 $f_S$는 $Q-(D \cup E)$ 에서 연속.

(b) $\mathbf{x}_0\in D$ 이면 $f_S$는 $\mathbf{x}_0$ 에서 불연속임은 $D$의 정의에 의해 자명하다. $\mathbf{x}_0\in E-D$ 이면 $\mathbf{x}_0$는 isolated point가 아니므로 $f_S$가 $\mathbf{x}_0$에서 불연속임은 자명하다. 따라서 $f_S$가 $\mathbf{x}_0$ 에서 연속이면 $\mathbf{x}_0 \not\in D\cup (E-B)$. 

(c) $\mathbf{x}\in B$ 이면 어떤 $C(\mathbf{x},\,\delta_x)$ 가 존재하여 $S\cap C(\mathbf{x},\,\delta_x)=\{\mathbf{x}\}$ 이다. 그렇게 되면 $\displaystyle v \left( \bigcup_{\mathbf{x}\in B} C(\mathbf{x},\,\delta_x) \right)$ 가 infinite 이므로 $S$가 bounded가 아니다.

(d) trivial



## 5. Rectifiable set



#### Definition : Rectifiable set

$S$가 bounded set in $\mathbb{R}^n$ 이라 하자. 상수함수 $1$ 이 integrable over $S$ 일 때 $S$를 **rectifiable set** 이라 하며 $S$의 부피 $v(S)$를 $\displaystyle v(S) = \int_S 1$ 로 정의한다.



#### Theorem 5.1

$S\subset \mathbb{R}^n$ 에 대해 다음이 성립한다.
$$
S \text{ is rectifiable} \iff S \text{ is bounded and }\operatorname{Bd}S \text{ has measure zero.}
$$

---

*(Proof)* Define $1_S$ as
$$
1_S(\mathbf{x}) = \left\{\begin{array}{ll} 1 \qquad&\text{if }\mathbf{x} \in S, \\ 0 &\text{otherwise.} \end{array}\right.
$$
$1_S$는 $\operatorname{Ext}S$ 와 $\operatorname{Int}S$ 에서 연속이며 $\operatorname{Bd}S$에서 불연속이다. 이를 생각하면 명제가 성립함은 자명하다. $\quad\square$



#### Theorem 5.2

(a) $S$가 rectifiable 하면 $v(S) \ge 0$. 

(b) $S_1,\,S_2$가 rectifiable 이고 $S_1 \subset S_2$ 이면 $v(S_1)\le v(S_2)$. 

(c) $S_1,\,S_2$가 rectifiable이면 $S_1 \cap S_2$, $S_1 \cup S_2$도 rectifiable 이며 다음이 성립한다.
$$
v(S_1\cup S_2)= v(S_1)+ v(S_2)- v(S_1 \cap S_2)\;.
$$
(d) $S$가 rectifiable 일 때 다음이 성립한다. $v(S) = 0 \iff S$ has measure zero.

(e) $S$가 rectifiable 이면 $\operatorname{Int}S$ 도 rectifiable 이며, $v(S)= v(\operatorname{Int}S)$. 

(f) $S$가 rectifiable 이고 $f:S \to \mathbb{R}$ 이 bounded continuous function 이면 $f$는 integrable over $S$.

----

*Proof is trivial*



<b>Example 1. </b> Bounded open set $A$에 대해 $\operatorname{Bd}A$의 measure zero가 아닌 예를 찾아보자. $A_0 = [0,\,1]\cap \mathbb{Q}$ 는 countable set 이다. $A_0= \{q_1,\,q_2,\ldots\}$ 라 하자. 임의의 $0<a<1$ 를 선택하고 $q_i \in  (a_i,\,a_i + \dfrac{a}{2^{i+1}}) \subset (0,\,1)$ 인 $a_i$ 를 항상 구할 수 있다. 이 때 $I_i = (a_i,\,a_i + \dfrac{a}{2^{i+1}})$ 이라 하자. 어떤 $I_i$와  $I_j$는 overlap 되지만 상관 없다. $A$를 다음과 같이 정의한다.
$$
A=I_1 \cup I_2 \cup \cdots \;.
$$
$\operatorname{Bd}A$가 measure zero 가 가정하면 모순이 생김을 보이자. $\varepsilon = 1-a$라 하자. $\operatorname{Bd}A$가 measure zero 라면 total length가 $\varepsilon$보다 작은 countably many open interval로 $\operatorname{Bd}A$를 cover 할 수 있다. 

우리는 $\mathbb{Q}\subset A \subset [0,\,1]$ 임을 알 고 있다. 따라서 $\overline{A}=[0,\,1]$ 이다. $\overline{A}= A \cup \operatorname{Bd}A$ 이므로 $\{I_i:i=1,\,2,\ldots\}$는 $\operatorname{Bd}A$를 cover한다. $A$의 total length는 $\sum\limits_{i=1}^\infty a\cdot 2^{-(i+1)}=a/4$ 보다 작으며(overlap을 고려하면), $\operatorname{Bd}A$는 그 total length가 $\varepsilon$ 보다 작은 interval로 cover 될 수 있다. 그렇다면 $A\cup \operatorname{Bd}A$의 total length 는 $\varepsilon + a/4=1-3a/4<1$ 보다 작은데 이는 $\overline{A}$의 total length가 $1$임에 위배된다. 따라서 $\operatorname{Bd}A$는 measure zero가 아니다. 



#### Definition : Simple region

$C$가 compact rectifiable set in $\mathbb{R}^{n-1}$ 이고 $\phi,\,\psi : C \to \mathbb{R}$ 이 $\phi(\mathbf{x}) \le \psi(\mathbf{x})$ 를 만족하는 연속함수라 하자. 아래와 같이 정의될 수 있는 $\mathbb{R}^n$의 subset $S$를 **simple region** in $\mathbb{R}^n$ 이라 한다. 
$$
S=\{(\mathbf{x},\,t) : \phi(\mathbf{x}) \le t \le \psi(\mathbf{x})\}\;.
$$


#### Lemma 14.3

$S$가 simple region in $\mathbb{R}^n$ 일 때 $S$는 compact and rectifiable set 이다.

---

*(Proof)* (1) Graph of $\phi$ and $\psi$를 $G_\phi$, $G_\psi$라 하자. 
$$
\begin{align*}
G_\phi &= \{(\mathbf{x},\,\phi(\mathbf{x})): \mathbf{x}\in C\}\,,\\
G_\psi &= \{(\mathbf{x},\,\psi(\mathbf{x})): \mathbf{x}\in C\}\,.
\end{align*}
$$
$D\subset \mathbb{R}^n$ 을 다음과 같이 정의한다.
$$
D=\{(\mathbf{x},\,t) :\mathbf{x}\in \operatorname{Bd}C \quad\text{and}\quad \phi(\mathbf{x}) \le t \le \psi(\mathbf{x})\}
$$
그렇다면 $\operatorname{Bd}S= G_\phi \cup G_\psi \cup D$ 이다. $\operatorname{Bd}S\subset S$ 이며 $S$는 bounded 이므로 $S$는 compact set 이다.

(2) $(\mathbf{x}_0,\,t_0)\not\in \operatorname{Bd}S$ 이면 다음 세가지 가능성이 있다. i) $\mathbf{x}_0 \not\in C$, ii) $\mathbf{x}_0 \in C$ but $t_0<\phi(\mathbf{x}_0)$ or $t_0 > \psi(\mathbf{x}_0)$, iii) $\mathbf{x}_0 \in \operatorname{Int}C$ and $\phi (\mathbf{x}_0)\le t \le \psi(\mathbf{x}_0)$. 

i) 의 경우의 ii) 의 경우 $(\mathbf{x}_0,\,t_0)\in \operatorname{Ext}S$ 며,  iii)의 경우는 $(\mathbf{x}_0,\,t)\in \operatorname{Int}S$ 임은 쉽게 보일 수 있다.

(3) 이제 $G_\phi$와 $G_\psi$가 measure zero 임을 보이자. 한 경우만 보여도 다른 경우까지 모일 수 있으므로 $G_\phi$만을 생각하겠다. $C$를 포함하는 rectangle $Q$ in $\mathbb{R}^{n-1}$ 을 생각하자. 임의의 $\varepsilon>0$에 대해 $\varepsilon'=\varepsilon/2v(Q)$를 생각하자.

$\phi$가 연속이고 $C$가 compact 하므로 $\phi$는 uniformly continuous on $C$ 이다. 따라서 모든 $\mathbf{x},\,\mathbf{y}\in C$에 대해  $|\mathbf{x}-\mathbf{y}|<\delta \implies$$ |\phi(\mathbf{x})-\phi(\mathbf{y})|<\varepsilon'$을 만족하는 $\delta>0$ 이 존재한다. $Q$에 대해 그 mesh가 $\delta$보다 작은 partition $P$를 선택하자. $R\in P$ 에 대해 $R \cap Q\ne \varnothing$ 이면 $|\phi(\mathbf{x})-\phi(\mathbf{y})|<\varepsilon'$ for each $\mathbf{x},\,\mathbf{y} \in R \cap Q$ 이다. 각각의 $R\in P$ with $R \cap Q \ne \varnothing$ 인 경우 $\mathbf{x}_R \in R \cap Q$ 를 선택하고 interval $I_R$을 $I_R = [\phi(\mathbf{x}_R)-\varepsilon',\,\phi(\mathbf{x}_R)+\varepsilon']$ 으로 선택하자. 그렇게 되면 $R \times I_R$은 $\mathbf{x} \in R \cap Q$ 인 모든 $\mathbf{x}$에 대해 $(\mathbf{x},\,\phi(\mathbf{x}))$를 포함한다. 

$G_\phi \subset \left(\bigcup_{R \in P} R\times I_R\right)$ 이고 $\sum\limits_R v(R\times I_R)= \sum\limits_{R} v(R) (2 \varepsilon') \le 2\varepsilon' v(Q)=\varepsilon$ 이므로 $G_\phi$는 measure zero 이며 또한 $G_\psi$도 measure zero 이다.

(4) 이제 $D$가 measure zero 임을 보이면 된다. $\phi,\,\psi$가 compact $C$에서 연속이므로 모든 $\mathbf{x}\in C$에서 
$$
-M\le \phi(\mathbf{x})\le \psi(\mathbf{x})\le M
$$
 만족하는 $M>0$이 존재한다.  $C$가 rectifiable set 이므로 $\operatorname{Bd} C$는 measure zero 이다. $\operatorname{Bd}C$를 cover하며 총 volume이 $\varepsilon/2M$보다 작은  countable collection of rectangles in $C$를 $\{Q_1,\,Q_2,\ldots\}$ 라 하면 $\{Q_i \times [-M,\,M]\}$ 은 $D$를 cover하며 그 총 부피가 $\varepsilon$보다 작으므로 $D$는 measure zero 이다. 

(5) 따라서 $S$는 compact and rectifiable set. $\qquad\square$



#### Theorem 14.4 (Fubini's theorem for simple regions)

$S=\{ (\mathbf{x},\,t) | \mathbf{x}\in C \quad \text{and}\quad\phi(\mathbf{x})\le t \le \psi(\mathbf{x}) \}$ 가 simple region in $\mathbb{R}^n$ 이라 하자. $f:S \to \mathbb{R}$ 이 연속함수이면 $f$는 integrable over $S$ 이며 다음이 성립한다.
$$
\int_S f = \int_{\mathbf{x}\in C} \int_{t=\phi(\mathbf{x})}^{t=\psi(\mathbf{x})} f(\mathbf{x},\,t)\;.
$$

---

*(Proof)* (1) Simple region의 정의에 의해 $C$는 compact set in $\mathbb{R}^{n-1}$ 이며 $\phi,\,\psi$는 continuous on $C$ 이다 따라서 어떤 $M>0$에 대해 $-M \le \phi(\mathbf{x}) \le \psi(\mathbf{x})\le M$ for every $\mathbf{x}\in C$ 이다. 그렇다면 $S \subset C \times [-M,\,M]$ 이다. 

(2) $f$가 continuous $S$ 이며 $S$가 compact and rectifiable 이므로 $f$ is integrable over $S$ 이다. For fixed $\mathbf{x}_0 \in Q$ 에서 $f_S (\mathbf{x}_0,\,t)$ 는 $0$  ($\mathbf{x}_0 \not\in C$) 이거나 많아야 2 points($\phi(\mathbf{x}_0),\,\psi(\mathbf{x}_0)$ 에서 불연속이고 이외의 points에서는 연속이다. Fubini's theorem에 의해
$$
\int_Q f = \int_{\mathbf{x}\in Q} \int_{t=-M}^{t=+M}f_S(\mathbf{x},\,t)
$$
이다. $\mathbf{x}\not\in C$ 일 경우 $f(\mathbf{x},\,t)=0$ 이므로
$$
\int_S f = \int_{\mathbf{x}\in C} \int_{t={-M}}^{t=+M}f_S (\mathbf{x},\,t)=\int_{\mathbf{x}\in C}\int_{t=\phi(\mathbf{x})}^{t=\psi(\mathbf{x})} f(\mathbf{x},\,t)\;. \qquad \square
$$



#### Exercise (pp .120-121)

<b>1. </b> $S$는 bounded set in $\mathbb{R}^n$ 이며 union of countable collection of rectifiable set $S_1,\,S_2,\ldots$ 이다.

(a) $S_1\cup \cdots \cup S_n$ 이 rectifiable 임을 보이시오.

(b) $S$가 rectifiable이 아닌 예를 드시오.

---

(a) obvious from theorem 5.2

(b) $S_k = \{\mathbf{x}\in \mathbb{R}^n : \|\mathbf{x}\|\le k \}$ for $k=1,\,2,\,\ldots$ 



<b>2. </b> $S_1,\,S_2$가 rectifiable 이면 $S_1-S_2$도 rectifiable 이며 $v(S_1-S_2)= v(S_1)-v(S_1 \cap S_2)$ 임을 보이시오.

---

See exercise 4.4



<b>3. </b> $A$가 nonempty rectifiable open set in $\mathbb{R}^n$ 이면 $v(A)>0$ 임을 보이시오.

---

$\mathbf{x} \in A$ 이면 어떤 $\delta>0$ 에서 $C(\mathbf{x},\,\delta)\subset A$ 이며 $\displaystyle \int_A 1 \ge \int_{C(\mathbf{x},\,\delta)} 1=(2\delta)^n >0$ 



<b>4. </b> rectifiable 한 bounded measure zero set과 rectifiable 하지 않은 bounded measure zero set의 예를 드시오.

---

$[0,\,1]\times \{0\} \subset \mathbb{R}^2$ 은 bounded, rectifiable, measure zero set in $\mathbb{R}^2$. Theorem 2.5에 의해 어떤 set $A$의 $\operatorname{Bd}A$가 measure zero가 아니면 $A$는 rectifiable 하지 않다. 따라서 $\mathbb{Q}\cap [0,\,1]$은 bounded and measure zero 이지만 rectifiable 하지 않다.



<b>5. </b> Bounded, closed, non-rectifiable subset of $\mathbb{R}^n$ 을 구하시오.

---



<b>6. </b>$A$는 bounded open in $\mathbb{R}^n$ 이고 $f:\mathbb{R}^n \to \mathbb{R}$은 bounded, continuous function 이다. $\displaystyle\int_{\overline{A}}f$ 는 존재하지만 $\displaystyle \int_A f$ 는 존재하지 않는 예를 드시오.

---

Let $n=1$. $A=[0,\,1]\cap \mathbb{Q}$. Then $\overline{A}=[0,\,1]$. 



<b>7. </b>$S$가 bounded in $\mathbb{R}^n$ 이다.

(a) $S$가 rectifiable이면 $\overline{S}$ 는 rectifiable이며 $v(S)=v(\overline{S})$ 이다.

(b) $\overline{S}$와 $\operatorname{Int}S$가 rectifiable이지만 $S$는 rectifiable이지 않은 예를 드시오.

---

(a) $S$ is rectifiable $\implies$ $\operatorname{Bd}S$ has measure zero$\implies$ $\operatorname{Bd}S$ is rectifiable $\implies$$\overline{S} = S \cup \operatorname{Bd}S$ 이므로 $\overline{S}$는  rectifiable.

(b) Let $S=[0,\,1]\cap \mathbb{Q}$. $\overline{S}=[0,\,1]$, $\operatorname{Int}S=\varnothing$.  따라서 $\overline{S}$ and $\operatorname{Int}S$ is rectifiable but $S$ is not.



<b>8. </b> $A,\,B$가 각각 $\mathbb{R}^k$와 $\mathbb{R}^n$에서의 rectangle이고 $S\subset A\times B$ 이다. 각각의 $\mathbf{y}\in B$에 대해
$$
S_{\mathbf{y}}=\{\mathbf{x}: \mathbf{x}\in A \quad \text{and}\quad (\mathbf{x},\,\mathbf{y})\in S\}
$$
일 때  $S_{\mathbf{y}}$를 cross section of $S$ at $\mathbf{y}$ 라 한다. $S$가 rectifiable 이고 $S_{\mathbf{y}}$가 rectifiable for each $\mathbf{y}$ 이면 다음이 성립함을 보이시오.
$$
v(S)= \int_{\mathbf{y}\in B}v(S_{\mathbf{y}})\;.
$$

---

$$
\int_{\mathbf{y}\in B}v(S_\mathbf{y}) = \int_{\mathbf{y}\in B}\int_{\mathbf{x}\in A}1_{S_{\mathbf{y}}}=\int_S1=v(S)\;. \qquad \square
$$



## 6. Improper Integrals



#### Definition : Extended integral

$A$가 open in $\mathbb{R}^n$,  $f:A \to \mathbb{R}$이 연속이며 non-negative 라 하자. $\Gamma = \{D\subset A : D \text{ is compact and rectifiable }\}$ 에 대해 $\displaystyle \sup \{\int_D f : D \in \Gamma\}$ 가 존재할 경우 이 값을 **extended integral** of $f$ over $A$ 라 하며 $\displaystyle \int_A f$ 라 쓴다. 이때에도 $f$를 integrable over $A$ (in the extended sense) 라고 한다. 

$f$가 arbitrary continuous function on $A$ 일 때 $f_{+}$과 $f_{-}$를 다음과 같이 정의하자.
$$
f_{+}(\mathbf{x})= \max\{f(\mathbf{x}),\,0\} \qquad \text{and} \qquad f_{-}(\mathbf{x})= \max\{-f(\mathbf{x}),\,0\}\;.
$$
$f_+$과 $f_{-}$ 가 integrable over $A$ 일 때 $f$를 integrable over $A$라 하며 그 값은 다음과 같이 정의한다.
$$
\int_A f = \int_A f_{+}-\int_A f_{-}\;.
$$
역시 이 값을 **extended integral** of $f$ over $A$ 라 한다.



#### Convention

$A$가 open in $\mathbb{R}$ 일 때, 따로 언급하지 않았다면 $\displaystyle \int_A f$는 extended integral of $f$ over $A$를 의미한다. 



#### Lemma 6.1

$A$가 open in $\mathbb{R}^n$ 다음을 만족하는 sequence of compact rectifiable subsets of $A$,  $C_1,\,C_2,\ldots,$가 존재한다. 

(a) $A=C_1 \cup C_2 \cup \cdots$

(b) $C_k \subset \operatorname{Int} C_{k+1}$ for $k=1,\,2,\,\ldots$

---

*(Proof)* (1) 우선 $d(\mathbf{x},\,\mathbf{y})=|\mathbf{x}-\mathbf{y}| = \max\{|x_i-y_i|: i=1,\,2,\ldots\}$ 와 $d(\mathbf{x},\,B)=\inf\{d(\mathbf{x},\,\mathbf{y}): \mathbf{y}\in B\}$ 를 생각한다.

(2) $B=\mathbb{R}^n -A$ , $N \in \mathbb{Z}_{+}$ 에 대해 $D_N$ 을 다음과 같이 정의한다.
$$
 D_N= \{\mathbf{x} \in \mathbb{R}^n : d(\mathbf{x},\,B) \ge 1/N \quad\text{and}\quad d(\mathbf{x},\,\mathbf{0}) \le N\}\;.
$$
$d(\mathbf{x},\,B)$ 와 $d(\mathbf{x},\,0)$이 continuous function of $\mathbf{x}$ 이므로 $D_N$은 closed subset of $\mathbf{R}^n$ 이며 또한  bounded 이므로 $D_N$은 compact subset of $\mathbb{R}^n$ 이다. 또한 $D_N \cap B=\varnothing$ 이므로 $D_N \subset A$ 이다. 

(3) $\mathbf{x}\in A$ 이면 $B$가 closed set 이므로 $d(\mathbf{x},\,B)>0$ 이다. 따라서 $d(\mathbf{x},\,B)\ge 1/N$과 $d(\mathbf{x},\,\mathbf{0})\le N$을 만족하는 어떤 자연수 $N$이 존재하므로 $\mathbf{x} \in D_N$ for some $N$ 이다. 따라서 $A=D_1 \cup D_2 \cup \cdots$ 이다. 

(4) $A_{N+1}$ 을 다음과 같이 정의하자.
$$
A_{N+1}=\{\mathbf{x}\in \mathbb{R}^n : d(\mathbf{x},\,B)>1/(N+1) \quad \text{and} \quad d(\mathbf{x},\,0)<(N+1) \}\,.
$$
$A_{N+1}$ 은 open in $\mathbb{R}^n$ 임은 자명하며 $D_N \subset A_{N+1}\subset D_{N+1}$ 이다. 

(5) 각각의 $\mathbf{x}\in D_N$ 에 대해 $C(\mathbf{x},\,\delta_x)\subset D_{N+1}$ 인 $\mathbf{x}$를 중심으로 한 변의 길이가 $2\delta_x$ 인 cube $C(\mathbf{x},\,\delta_x)$ 가 존재한다. 각각의 $\mathbf{x}\in D_N$ 에 대한 cubes를 모으면 그들의 interior로 $D_N$을 cover하며, $D_N$이 compact 하므로 유한의 이러한 open cubes로 $D_N$을 cover 할 수 있다. 이 cubes의 union을 $C_N$ 이라 하면 $C_N$은 유한개의 rectifiable sets의 union 이므로 rectifiable 하며, 또한 compact 하다. 따라서 다음이 성립한다.
$$
\cdots C_{N-1}\subset D_N \subset \operatorname{Int}C_N \subset C_N \subset D_{N+1} \subset \operatorname{Int} C_{N+1}\subset \cdots
$$
(6) $C_k \subset A$ 이며 $\displaystyle \bigcup_{k=1}^{\infty}C_k = A$ 임은 자명하다. 따라서 우리는 Lemma에서 구하고자 하는 sequence of sets를 구했다. $\qquad\square$



#### Theorem 6.2 

$A$가 open in $\mathbb{R}^n$ 이고 $f:A \to \mathbb{R}$ 이 연속이라 하자. Sequence of compact rectifiable subsets of $A$, $\{C_1,\,C_2,\ldots\}$ 가 $\bigcup_k C_k=A$ 이며 $C_k \subset \operatorname{Int}C_{k+1}$ for each $k$ 를 만족한다면 다음이 성립한다.
$$
f \text{ is integrable over }A \iff \left\{ \int_{C_k}|f|\right\}\text{ is bounded}\;.
$$
이 경우 $\displaystyle \int_A f = \lim_{k\to \infty}\int_{C_k}f$ 이다.

---

*(Proof)* (1) $f$가 non-negative 인 경우에 theorem이 성립함을 우선 보인다.  $f=|f|$ 이며 $\displaystyle \int_{C_k}f $ 는 monotonically increasing sequence 이므로 $\displaystyle \lim_{k \to \infty} \int_{C_k}f$ exists $\iff$ $\displaystyle \left\{ \int_{C_k}f \right\}$ is bounded 이다.

(2) $f$가 integrable over $A$ 이며 따라서, $\displaystyle \int_A f$ 가 존재함을 가정하자.  $\Gamma$가 collection of every compact rectifiable subset of $A$ 라면, $C_k$가 compact rectifiable subset of $A$ 이므로, 
$$
\int_{C_k}f \le \sup{} \left\{ \int_{D} f  : D \in \Gamma \right\} = \int_A f
$$
이다. 따라서 $\displaystyle \lim_{k \to \infty} \int_{C_k}f \le \int_A f$ 이다.  즉 $\displaystyle \int_{C_k}f$ 는 bounded.

(3) $\left\{\displaystyle \int_{C_k}f \right\}$ 가 bounded 임을 가정하자. $D \in \Gamma$ 이면 $D \subset \operatorname{Int}C_M$ for some $M$ 이다. 따라서,
$$
\int_D f \le \int_{C_M}f \le \lim_{k \to \infty}\int_{C_k}f
$$
이다. 임의의 $D\in \Gamma$에 대해 성립하므로 extended integral의 정의에 의해 $f$는 integrable over $A$ 이며
$$
\int_A f \le \lim_{k \to \infty}\int_{C_k}f
$$
이다. 우리는 이제 $f$가 non-negative 인경우에 대해 증명하였다.

(3) $f$가 임의의 연속함수라 생각하자. 우리는 $f_+(\mathbf{x})=\max\{f(\mathbf{x}),\,0\}$ and $f_- = \max\{-f(\mathbf{x}),\,0\}$ 에 대해 다음을 알고 있다.
$$
f \text{ is integrable over }A \iff f_{+}\text{ and }f_{-}\text{ are integrable over }A\;.
$$
따라서 우리는 다음을 보이면 된다.
$$
f_+ \text{ and }f_- \text{ are integrable over }A \iff \left\{\int_{C_k}f_+\right\} \text{ and }\left\{ \int_{C_k} f_- \right\} \text{ are bounded}\;.
$$
(4) $0\le f_+(\mathbf{x}) \le |f(\mathbf{x})|$ 이며 $0 \le f_- (\mathbf{x}) \le |f(\mathbf{x})|$ 이고 $|f(\mathbf{x})|= f_+(\mathbf{x}) + f_-(\mathbf{x})$ 이다. 따라서 다음이 성립한다.

$$
\left\{\int_{C_k} |f| : k=1,\,2,\ldots\right\} \text{ is bounded }\iff  \int_{C_k}f_+ \text{ and }\displaystyle \int_{C_k}f_- \text{ are bounded.}
$$
이제 (3)과 함께 다음이 성립함을 알았다.
$$
f \text{ is integrable over }A \iff \left\{\int_{C_k} |f| \right\} \text{ is bounded }\;.
$$
$\displaystyle \left\{ \int_{C_k}f_+\right\}$ 와 $\displaystyle \left\{ \int_{C_k}f_-\right\}$는 각각 bounded monotonic sequence 이므로 수렴한다. 따라서 
$$
\lim_{k \to \infty}\int_{C_k}f = \lim_{k \to \infty}\int_{C_k}f_+ - \lim_{k \to \infty}\int_{C_k}f_- =\int_A f_+ - \int_Af_-=\int_A f
$$
이다. $\qquad \square$



#### Theorem 6.3

$A$는 open in $\mathbb{R}^n$ 이고 $f,\,g:A \to \mathbb{R}$이 연속함수라 하자.

(a) $f,\,g$가 integrable over $A$ 이면 $af+bg$도 integrable over $A$ 이며 $\displaystyle \int_A (af+bg)= a\int_A f+b\int_A g$ 이다.

(b) $f,\,g$가 integrable over $A$ 이고 $f(\mathbf{x})\le g(\mathbf{x})$ for every $\mathbf{x}\in A$ 이면 $\displaystyle \int_A f \le \int_A g$ 이다. 특히 $\displaystyle \left| \int_A f\right| \le \int_A |f|$ 이다. 

(c) $B$가 open in $\mathbb{R}^n$ 이며 $B\subset A$ 라 하자. $f$가 non-negative on $A$ 이며 integrable over $A$ 이면 $f$도 integrable over $B$ 이며 $\displaystyle \int_B f \le \int_A f$ 이다.

(d) $A,\,B$가 open in $\mathbb{R}^n$ 이고 $f$가 $A \cup B$에서 연속이라고 하자. $f$가 integrable over $A$ and $B$ 이면 integrable over $A \cup B$ and $A \cap B$ 이고 다음 성립한다.
$$
\int_{A \cup B} f = \int_A f + \int_B f -\int_{A \cap B}f\;.
$$

---

*(Proof)* (a) compact rectifiable subsets of $A$ 의 sequence인  $\{C_k : k=1,\,2\ldots\}$ 가 $C_k \subset \operatorname{Int}C_k$ for $k=1,\,2,\ldots$ 이며 $ \bigcup_{k} C_k = A$ 를 만족한다고 하자. $|af+bg|\le |a||f|+|b||g|$ 이므로,
$$
\int_{C_k}|af+bg| \le |a|\int_{C_k}|f|+ |b|\int_{C_k}|g|
$$
이다. Theorem 6.2에 의해 $\displaystyle \left\{\int_{C_k} |f|\right\}$ 와 $\displaystyle \left\{\int_{C_k}|g|\right\}$ 가 bounded 이므로 $\displaystyle \left\{ \int_{C_k} |af+bg|\right\}$ 도 bounded 이며 따라서 $af+bg$는 integrable over $A$ 이다. 또한
$$
\int_{C_k}af+bg= a\int_{C_k}f + b\int_{C_k}g
$$
이므로 $\displaystyle \int_A (af+bg) = a \int_A f + b\int_A g$ 이다.

(b) Trivial

(c) Trivial

(d) $A$에 대해 $\{C_k\}$ 가 만족하는 것을 $B$에 대해 만족하는 sequence of compact rectifiable subsets of $B$를 $\{D_k\}$ 라 하고 $\{E_k = C_k \cup D_k\},\, \{F_k = C_k \cap D_k\}$ 라 하자. 그렇다면 $\{E_k\}$ 와 $\{F_k\}$ 도 sequences of compact rectifiable sets 이며 각각의 union은 $A\cup B$와  $A \cap B$ 이다. 또한 $E_k \subset \operatorname{Int}E_{k+1}$, $F_k \subset \operatorname{Int}F_{k+1}$ 이다. 
$$
\int_{E_k}|f|=\int_{C_k}|f|+\int_{D_k}|f|- \int_{F_k}|f|
$$
이므로 $\displaystyle \int_{E_k}|f|\le \int_{C_k}|f| + \int_{D_k}|f|$, $\displaystyle \int_{F_k}|f|\le \int_{C_k}|f| + \int_{D_k}|f|$ 이다. 즉 $\displaystyle \int_{E_k}|f|$와 $\displaystyle \int_{F_k}|f|$ 는 bounded 이므로 $f$ is integrable over $A \cup B$ and $A \cap B$ 이다. $\displaystyle \int_{A \cup B} f = \int_A f + \int_B f -\int_{A \cap B}f$ 인 것은 위의 식에 $k\to \infty$ limit를 취하면 쉽게 보일 수 있다. $\qquad\square$



#### Theorem 6.4

$A$가 bounded open set in $\mathbb{R}^n$ 이고 $f:A \to \mathbb{R}$은 bounded continuous function 이라 하자. 그렇다면 extended integral $\displaystyle \int_A f$ 는 존재하며 만약 ordinary integral이 존재할 경우 두 값은 같다.

---

*(Proof)* (1) $A$를 포함하는 rectangle $Q$를 생각하자. $f$가 bounded 이므로 $|f(\mathbf{x})|<M$ for all $\mathbf{x}\in A$ 인 $M$이 존재하며   $A$에 포함되는 임의의 compact rectifiable set $D$에 대해 $\displaystyle \int_D |f| \le \int_Q M \le M \cdot v(Q)$ 이다. 따라서 $f$는 integrable over $A$ in the extended sense.

(2) Non-negative $f$ 에 대해 ordinary integral of $f$ over $A$가 존재한다고 가정하면, 정의에 의해 $\displaystyle \int_A  f = \int_Q f_A$ 이다. $D$가 compact rectifiable subset of $A$라면,
$$
\int_D f = \int_D f_A \le \int_Q f_A=(\text{ordinary})\int_A f
$$
이다. 따라서 $\displaystyle (\text{extended})\int_A f \le (\text{ordinary})\int_A f$ 이다. 

(3) $P$가 partition of $Q$ 이며 $R_1,\ldots,\,R_k$가 $P$에 의해 정해지는 subrectangles로 $A$에 포함되는 것들이라고 하자. $D=R_1 \cup \cdots \cup R_k$ 라면 $L(f_A,\,P) = \sum\limits_{i=1}^k m_R(f) \cdot v (R_i)$ 이며 다음이 성립한다. 
$$
\sum_{i=1}^k m_R (f)\cdot v(R_i) \le \sum_{i=1}^k \int_{R_i}f = \int_Df \le (\text{extended}) \int_A f\;.
$$
따라서 $\displaystyle (\text{ordinary}) \int_A f \le (\text{extended}) \int_A f$ 이다. (2)와 함께 $\displaystyle (\text{ordinary}) \int_A f = (\text{extended}) \int_A f$ 임을 알 수 있다. 

(4) 이제 $f$의 non-negative 조건 없이 증명한다. 앞서 많이 했던 것처럼 $f_{+}$ 와 $f_{-}$ 를 생각하자. $f=f_{+}-f_{-}$ 이며 $f_{+},\,f_{-}$ 는 non-negative 이므로 
$$
\begin{align*}
(\text{ordinary}) \int_A f &= (\text{ordinary})\int_A f_{+}-(\text{ordinary})\int_A f_{-} \\
&= (\text{extended})\int_A f_{+}- (\text{extended}) \int_A f_{-} \\
&= (\text{extended}) \int_A f\;. \qquad \square
\end{align*}
$$


#### Corollary 6.5

$S$가 bounded in $\mathbb{R}^n$ 이며 $f:S \to \mathbb{R}$ 이 bounded continuous function 이라 하자. $f$가 integrable over $S$ in the ordinary sense 일 때 다음이 성립한다.
$$
(\text{ordinary})\int_S f = (\text{extended}) \int_{\operatorname{Int}S}f\;.
$$

---

*Proof is trivial*



#### Theorem 6.6 

$A$가 open in $\mathbb{R}^n$ 이며 $f:A \to \mathbb{R}$ 이 continuous라 하자. $\{U_k:i=1,\,2,\ldots\}$ 는 $U_k \subset U_{k+1}$ 이며 $\bigcup_{k=1}U_k=A$를 만족하는 sequence of open sets이다. 이 때 다음이 성립한다.
$$
\int_A f \text{ exists } \iff  \left\{ \int_{U_k}|f|:i=1,\,2,\ldots\right\} \text{ exists and bounded.}
$$

이 때 $\displaystyle \int_A f= \lim_{k\to \infty} \int_{U_k} f$ 이다. 

---

*(Proof)* (1) $f$가 non-negative인 경우만 증명해도 된다. $\displaystyle \int_A f$ 가 존재한다면 $\displaystyle \int_{U_k}f \le \int_{U_{k+1}} f \le \cdots \le  \int_A f$  이므로 $\displaystyle \left\{ \int_{U_k} f:i=1,\,2,\ldots\right\}$ 는 bounded 이며 $\displaystyle \lim_{k \to \infty} \int_{U_k} f \le \int_A f$ 이다. 

(2) Suppose $\displaystyle \left\{ \int_{U_k}|f|:i=1,\,2,\ldots\right\}$  exists and bounded. $D$가 임의의 compact rectifiable subset of $A$ 라 하면 $D$는 $\{U_k\}$ 에 의해 cover되며 compact 하므로 $D\subset U_M$ for some $M$ 이다. 따라서 
$$
\int_D f \le \int_{U_M}f \le \lim_{k\to \infty}\int_{U_k}f
$$
이므로 $\displaystyle \int_A f \le \lim_{k \to \infty}\int_{U_k}f$ 이다. (1)과 함께 $\displaystyle \int_A f = \lim_{k \to \infty}\int_{U_k}f$. $\qquad \square$ 





#### Exercise (pp. 132-133)

<b>1. </b> $f:\mathbb{R}\to\mathbb{R}$ defined as $f(x)=x$. 임의의 $\lambda \in \mathbb{R}$에 대해  다음 (i), (ii), (iii)를 만족하는 sequence $\{C_k\}$ of compact rectifiable subsets of $\mathbb{R}$ 이 존재함을 보이시오.

(i)  $\bigcup_{k=1}C_k=\mathbb{R}$ ,

(ii) $C_k \subset \operatorname{Int} C_{k+1}$ for each $k=1,\,2,\,\ldots$,

(iii) $\displaystyle \lim_{k \to \infty} \int_{C_k}f = \lambda$.

이 때 extended integral $\displaystyle \int_{\mathbb{R}}f$는 존재하는가?

----

(1) Define $a_k = \sqrt{k^2+2\lambda}$ for $n\in \mathbb{Z}_+$. Then, $\displaystyle \int_{-k}^{a_k}f=\lambda$ 이다. Define $C_k=[-k,\,a_k]$ for $k=1,\,2,\ldots$ 이면 $\{C_k\}$ 는 (i), (ii), (iii) 조건을 모두 만족한다.

(2) $D_k = [0,\,2k]$ for $k=1,\,2,\,3,\ldots $ 라 하면 $\displaystyle \int_{D_k}f=k^2$ 이며 모든 $D_k$는 compact rectifiable subset 이므로 $\displaystyle \sup \{\int_D f : D\text{ is compact rectifiable subset of } \mathbb{R}\}$ 이 bounded가 아님을 보여준다. 따라서 extended integral of $f$ over $\mathbb{R}$은 존재하지 않는다.



<b>2.  </b> $A$가 open in $\mathbb{R}$ 이며 $f,\,g:A \to \mathbb{R}$이 연속이고 $|f(\mathbf{x})|\le g(\mathbf{x})$ for $\mathbf{x}\in A$ 라 하자. 먄약 $\displaystyle \int_A g$가 존재한다면 $\displaystyle \int_A f$가 존재함을 보이시오.

---

$D$가 any compact rectifiable subset of $A$ 이면 $\displaystyle \int_D |f|\le \int_A g$ 이므로 $\displaystyle \int_A f$는 존재한다.



<b>3. </b> (a) $A,\,B\subset \mathbb{R}^2$ 가 $A=\{(x,\,y): x>1 \; \text{and}\; y>1\}$ , $B=(0,\,1)^2$ 이다. $f(x,\,y)= \dfrac{1}{\sqrt{xy}}$ 일 때 $\displaystyle \int_A f$와 $\displaystyle \int_B f$는 존재하는가? 존재한다면 그 값을 구하시오.

(b) $C=\{(x,\,y): x >0 \; \text{and} \; y>0\}$ 이며 $g(x,\,y)= \dfrac{1}{(x^2+\sqrt{x})(y^2+\sqrt{y})}$ 일 때 $\displaystyle \int_C g$가 존재함을 보이시오.

---

(a) Let $U_k = (1+1/k ,\,k)\times (1+1/k,\,k)$ for $k\in \mathbb{Z}_{+}$ . Then $\{U_k : k=1,\,2,\ldots\}$ is a collection of open sets in $\mathbb{R}^2$ satisfying $\bigcup_{k=1}U_k = A$ and $U_k \subset U_{k+1}$. 
$$
\int_{U_k}f(x,\,y)= \int_{1+1/k}^k dx \int_{1+1/k}^k dy \,f(x,\,y)=4\left[ \sqrt{k}-\sqrt{1+\dfrac{1}{k}} \right]^2.
$$
따라서 $\displaystyle \lim_{k\to \infty}\int_{U_k}f(x,\,y)\to \infty$ 이므로 $\displaystyle \int_A f$ 는 존재하지 않는다.

Let $V_k = (1/k,\, 1-1/k)^2 \subset \mathbb{R}^2$ for $k \in \mathbb{Z}_{+}$. Then $\{V_k : k=1,\,2,\ldots\}$ is a collection of open sets in $\mathbb{R}^2$ satisfying $\bigcup_{k=1}^{\infty} V_k = B$ and $V_{k}\subset V_{k+1}$. 
$$
\int_{V_k}f(x,\,y) = 4\left[ \sqrt{1-\dfrac{1}{k}} - \dfrac{1}{\sqrt{k}}\right]^2.
$$
$\displaystyle  \lim_{k\to \infty} \int_{V_k}f(x,\,y)=4$ 이므로 $\displaystyle \int_B f = 4$. 

(b) Let $A_1 =\{ (x,\,y) : x>1 \; \text{and}\; 0<y<1\}$ and $A_2 =\{(x,\,y): 0<x<1 \; \text{and}\; y>1\}$. $A,\,B,\,A_1,\,A_2$ are open in $\mathbb{R}^2$ and none of them intersects. In addition $C-(A\cup B \cup A_1\cup A_2)$ is measure zero set.

$f$ and $g$ are non-negative. $g\le f$ on $B$. 따라서  $\displaystyle \int_B g$ exists. 

$g(x,\,y) \le 1/(x^2y^2)$ on $A$ and by example 2, $1/(x^2y^2)$ is integrable over $A$. 따라서 $g$ is integrable on $A$. 

On $A_1$, $g(x,\,y)\le 1/(2y^2)$ and it is easy to show that $1/(2y^2)$ is integrable over $A_1$. 따라서  $g$는 integrable over $A_1$ 이며 같은 이유로 $g$ is integrable over $A_2$. 이로부터 $g$ is integrable over $C$.



<b>4. </b> $f(x,\,y)=\dfrac{1}{(y+1)^2}$ 이며 $A,\,B$가 다음과 같이 정의된 open set in $\mathbb{R}^2$ 라 하자.
$$
\begin{align*}
A&= \{(x,\,y) : x>0 \quad \text{and} \quad x<y<2x\}\;,\\ B&=\{(x,\,y): x>0 \quad \text{and} \quad x^2<y<2x^2\}\;.
\end{align*}
$$
$\displaystyle\int_A f(x,\,y)$ 가 존재하지 않음을 보이시오. $\displaystyle \int_B f(x,\,y)$ 가 존재함을 보이고 그 값을 구하시오.

---

$$
\begin{align*}
\int_A f(x,\,y) &= \int_{0}^{\infty}dx \int_x^{2x}\dfrac{1}{(y+1)^2} dy = \int_0^{\infty} dx \left[-\dfrac{1}{y+1}\right]_x^{2x} = \left[ \ln \dfrac{x+1}{2x+1} \right]_0^\infty = \text{not defined.} \\
\int_B f(x,\,y)&= \int_0^\infty dx \left[\dfrac{1}{x^2+1} - \dfrac{1}{2x^2+1}\right] \quad\text{We know that those are integrable over }[0,\,\infty].
\end{align*}
$$





<b>7. </b> $A$가 bounded and open set in $\mathbb{R}^n$ 이고 $f:A \to \mathbb{R}$이 bounded continuous function 이라 하자. $Q$가 $A$를 포함하는 rectangle 일 때 다음을 보이시오.
$$
\int_A f = \underline{\int_Q} (f_+)_A - \underline{\int_Q}(f_{-})_A\;.
$$

---

(1) Theorem 6.4 로부터 우리는 $f$가 integrable over $A$ 임을 안다. 또한  $f_+(\mathbf{x}) = \max\{f(\mathbf{x}),\,0\}$ and $f_- (\mathbf{x}) = \max \{-f(\mathbf{x}),\,0\}$ 도 bounded continuous function 이다. 따라서 $f_+$와 $f_-$도 integrable over $A$ 이다. 

(2)$f(\mathbf{x})=f_{+}(\mathbf{x})-f_{-}(\mathbf{x})$ 이다. 정의에 의해 $f_A = (f_+)_A - (f_-)_A$ 이고 $\displaystyle \int_A f = \int_Q f_A$ 이다. $f_+$와 $f_-$가 integrable over $A$ 이므로 $\displaystyle \int_A f_{+} = \int_Q (f_{+})_A =\underline{\int_Q} (f_+)_A$ 이며 $\displaystyle \int_A f_{-}=\underline{\int_Q} (f_{-})_A$.  따라서,
$$
\int_A f = \int_A f_{+}- \int_Af_{-}= \underline{\int_Q}(f_{+})_A - \underline{\int_Q}(f_{-})_A\;. \qquad\square
$$




<b>8. </b> $A$가 open in $\mathbb{R}^n$ 이라 하자. 만약 $f:A \to \mathbb{R}$ 이 모든 $\mathbf{x}\in A$에 대해 어떤 neighborhood $N_x$ of $\mathbf{x}$ 가 존재하여 $f$가 $N_x$에서 bounded 라면 $f$를 **locally bounded** 라 한다. $\mathcal{F}(A)$ 를 $A$에서 locally bounded 이며 $A$에서 measure zero set을 제외하곤 연속인 함수의 집합이라 하자.

(a) $f$가 $A$에서 연속이면 $f\in \mathcal{F}(A)$ 임을 보이시오.

(b) $f\in \mathcal{F}(A)$ b) $f\in \mathcal{F}(A)$ 이면 $f$는 $A$의 모든 compact subset에서 bounded이며, 따라서 extended integral $\displaystyle \int_A f$가 존재함을 보이시오.

(c) Theorem 6.3이 모든 $f\in\mathcal{F}(A)$ 에 대해 성립함을 보이시오.

(d) Theorem 6.4에서 $f$의 연속 조건을 *continuous except on a set of measure zero* 로 바꾸어도 성립함을 보이시오.

---

(a) Trivial

(b) Let $D$ be an arbitrary compact set contained in $A$. 모든 $\mathbf{x}\in D$ 에 대해 어떤 neighborhood of $\mathbf{x}$, $N_x$가 존재하여 $f$가 bounded on $N_x$ 가 되므로 이 $N_x$의 collection은 open cover of $D$ 이다. $D$가 compact set 이므로 finite elements of $\{N_x\}$ 로 $D$를 cover 할 수 있다. 이를 $N_1,\ldots,\,N_m$ 이라 하자. $f$는 각각의 $N_i$에서 bounded 이므로 $f$ is bounded on $N=_1 \cup \cdots \cup N_m$. $N\subset A$ 이므로 $\{\mathbf{x}\in N : f \text{ is not countinuous at}\}$ 은 measure zero set 이다. 따라서 $\displaystyle \int_A f$ exists in the extended sense.

(c) 











